<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="Main_PIC_files/filelist.xml">
<title>/***************************************************************************</title>
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:PunctuationKerning/>
  <w:DrawingGridHorizontalSpacing>6 pt</w:DrawingGridHorizontalSpacing>
  <w:DrawingGridVerticalSpacing>6 pt</w:DrawingGridVerticalSpacing>
  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>
  <w:DisplayVerticalDrawingGridEvery>3</w:DisplayVerticalDrawingGridEvery>
  <w:UseMarginsForDrawingGridOrigin/>
  <w:ValidateAgainstSchemas>false</w:ValidateAgainstSchemas>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotUnderlineInvalidXML/>
  <w:DoNotShadeFormData/>
  <w:Compatibility>
   <w:SpaceForUL/>
   <w:BalanceSingleByteDoubleByteWidth/>
   <w:DoNotLeaveBackslashAlone/>
   <w:ULTrailSpace/>
   <w:DoNotExpandShiftReturn/>
   <w:FootnoteLayoutLikeWW8/>
   <w:ShapeLayoutLikeWW8/>
   <w:AlignTablesRowByRow/>
   <w:ForgetLastTabAlignment/>
   <w:AdjustLineHeightInTable/>
   <w:LayoutRawTableWidth/>
   <w:LayoutTableRowsApart/>
   <w:UseWord97LineBreakingRules/>
   <w:SelectEntireFieldWithStartOrEnd/>
   <w:UseWord2002TableStyleRules/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
  <w:LsdException Locked="true" Name="Normal"/>
  <w:LsdException Locked="true" Name="heading 1"/>
  <w:LsdException Locked="true" Name="heading 2"/>
  <w:LsdException Locked="true" Name="heading 3"/>
  <w:LsdException Locked="true" Name="heading 4"/>
  <w:LsdException Locked="true" Name="heading 5"/>
  <w:LsdException Locked="true" Name="heading 6"/>
  <w:LsdException Locked="true" Name="heading 7"/>
  <w:LsdException Locked="true" Name="heading 8"/>
  <w:LsdException Locked="true" Name="heading 9"/>
  <w:LsdException Locked="true" Name="toc 1"/>
  <w:LsdException Locked="true" Name="toc 2"/>
  <w:LsdException Locked="true" Name="toc 3"/>
  <w:LsdException Locked="true" Name="toc 4"/>
  <w:LsdException Locked="true" Name="toc 5"/>
  <w:LsdException Locked="true" Name="toc 6"/>
  <w:LsdException Locked="true" Name="toc 7"/>
  <w:LsdException Locked="true" Name="toc 8"/>
  <w:LsdException Locked="true" Name="toc 9"/>
  <w:LsdException Locked="true" Name="caption"/>
  <w:LsdException Locked="true" Name="Title"/>
  <w:LsdException Locked="true" Name="Subtitle"/>
  <w:LsdException Locked="true" Name="Strong"/>
  <w:LsdException Locked="true" Name="Emphasis"/>
  <w:LsdException Locked="true" Name="Table Grid"/>
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:536902279 -2147483648 8 0 511 0;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;
	mso-font-charset:0;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 2 6 3 4 5 5 2 3 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:"New York";
	panose-1:2 4 5 3 6 5 6 2 3 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:System;
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:3 0 0 0 1 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;
	mso-font-alt:"‚l‚r –¾’©";
	mso-font-charset:128;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 134676480 16 0 131072 0;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;
	mso-font-alt:¹ÙÅÁ;
	mso-font-charset:129;
	mso-generic-font-family:auto;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 151388160 16 0 524288 0;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:ËÎÌå;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:1 135135232 16 0 262144 0;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 1 6 1 0 1 1 1 1 1;
	mso-font-alt:·s²Ó©úÅé;
	mso-font-charset:136;
	mso-generic-font-family:auto;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:1 134742016 16 0 1048576 0;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;
	mso-font-alt:"‚l‚r ƒSƒVƒbƒN";
	mso-font-charset:128;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 134676480 16 0 131072 0;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;
	mso-font-alt:µ¸¿ò;
	mso-font-charset:129;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 151388160 16 0 524288 0;}
@font-face
	{font-family:SimHei;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:ºÚÌå;
	mso-font-charset:134;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 135135232 16 0 262144 0;}
@font-face
	{font-family:MingLiU;
	panose-1:2 1 6 9 0 1 1 1 1 1;
	mso-font-alt:²Ó©úÅé;
	mso-font-charset:136;
	mso-generic-font-family:modern;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 134742016 16 0 1048576 0;}
@font-face
	{font-family:Mincho;
	panose-1:2 2 6 9 4 3 5 8 3 5;
	mso-font-alt:–¾’©;
	mso-font-charset:128;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 134676480 16 0 131072 0;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;
	mso-font-alt:±¼¸²;
	mso-font-charset:129;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:fixed;
	mso-font-signature:1 151388160 16 0 524288 0;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:647 0 0 0 159 0;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;
	mso-font-charset:222;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:16777217 0 0 0 65536 0;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;
	mso-font-charset:222;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:16777217 0 0 0 65536 0;}
@font-face
	{font-family:Mangal;
	panose-1:0 0 4 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:32771 0 0 0 1 0;}
@font-face
	{font-family:Latha;
	panose-1:2 0 4 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:1048579 0 0 0 1 0;}
@font-face
	{font-family:Sylfaen;
	panose-1:1 10 5 2 5 3 6 3 3 3;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:67110535 0 0 0 159 0;}
@font-face
	{font-family:Vrinda;
	panose-1:1 1 6 0 1 1 1 1 1 1;
	mso-font-charset:0;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:65539 0 0 0 1 0;}
@font-face
	{font-family:Raavi;
	panose-1:2 0 5 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:131075 0 0 0 1 0;}
@font-face
	{font-family:Shruti;
	panose-1:2 0 5 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:262147 0 0 0 1 0;}
@font-face
	{font-family:Sendnya;
	panose-1:0 0 4 0 0 0 0 0 0 0;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:1 0 0 0 1 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 0 5 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:2097155 0 0 0 1 0;}
@font-face
	{font-family:Tunga;
	panose-1:0 0 4 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:4194307 0 0 0 1 0;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-charset:0;
	mso-generic-font-family:script;
	mso-font-pitch:variable;
	mso-font-signature:-2147459005 0 128 0 1 0;}
@font-face
	{font-family:Kartika;
	panose-1:2 2 5 3 3 4 4 6 2 3;
	mso-font-charset:1;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:0 0 0 0 0 0;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:128;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-1 -369098753 63 0 4129279 0;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:1627421319 -2147483648 8 0 66047 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-1610611985 1107304683 0 0 159 0;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-1610611985 1073741899 0 0 159 0;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-1610611985 1073750139 0 0 159 0;}
@font-face
	{font-family:"Cambria \(Vietnamese\)";
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-charset:163;
	mso-generic-font-family:roman;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:536870913 0 0 0 256 0;}
@font-face
	{font-family:"Calibri \(Vietnamese\)";
	panose-1:0 0 0 0 0 0 0 0 0 0;
	mso-font-charset:163;
	mso-generic-font-family:swiss;
	mso-font-format:other;
	mso-font-pitch:variable;
	mso-font-signature:536870913 0 0 0 256 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	font-family:Calibri;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
span.msoIns
	{mso-style-type:export-only;
	mso-style-name:"";
	text-decoration:underline;
	text-underline:single;
	color:teal;}
span.msoDel
	{mso-style-type:export-only;
	mso-style-name:"";
	text-decoration:line-through;
	color:red;}
span.msoChangeProp
	{mso-style-type:export-only;
	mso-style-name:"";}
 /* Page Definitions */
 @page
	{mso-page-border-surround-header:no;
	mso-page-border-surround-footer:no;}
@page Section1
	{size:841.85pt 1190.55pt;
	margin:56.7pt 56.7pt 56.7pt 56.7pt;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:Calibri;
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]-->
</head>

<body lang=EN-US style='tab-interval:.25in;text-justify-trim:punctuation'>

<div class=Section1>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>/***************************************************************************</span></i><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>Main_PIC.c</span></i><span style='font-size:10.0pt;font-family:
"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>ME 218C Project</span></i><span style='font-size:10.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>Team Odyssey</span></i><span style='font-size:10.0pt;font-family:
"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>May 31, 2010</span></i><span style='font-size:10.0pt;font-family:
"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>***************************************************************************/</span></i><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#00B800'>#include</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<span style='color:red'>&quot;BITDEFS.H&quot;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#00B800'>#include &lt;htc.h&gt;</span><span style='font-size:10.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><b><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>__CONFIG</span></b><span style='font-size:10.0pt;font-family:"Courier New";
color:red'>(</span><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>HS</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<span style='color:red'>&amp;</span> <span style='color:black'>UNPROTECT</span>
<span style='color:red'>&amp;</span> <span style='color:black'>WDTDIS</span> <span
style='color:red'>&amp;</span> <span style='color:black'>PWRTDIS</span> <span
style='color:red'>&amp;</span> <span style='color:black'>MCLRDIS</span> <span
style='color:red'>&amp;</span> <span style='color:black'>BORDIS</span> <span
style='color:red'>&amp;</span> <span style='color:black'>IESODIS</span> <span
style='color:red'>&amp;</span> <span style='color:black'>FCMDIS</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>//__CONFIG(_CP_OFF &amp; _WDT_OFF &amp; _PWRTE_ON &amp;
_HS_OSC);</span></i><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>/*<span style='mso-spacerun:yes'>  </span>HS = high speed
resonator</span></i><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'><span style='mso-spacerun:yes'>    </span>UNPROTECT = code is
not protected</span></i><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'><span style='mso-spacerun:yes'>    </span>WDTDIS =<span
style='mso-spacerun:yes'>  </span>Watchdog timer off</span></i><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'><span style='mso-spacerun:yes'>    </span>PWRTDIS = Power up
timer off</span></i><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'><span style='mso-spacerun:yes'>    </span>MCLRDIS = Master Clear
disabled</span></i><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'><span style='mso-spacerun:yes'>    </span>BORDIS = Brownout
disabled</span></i><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'><span style='mso-spacerun:yes'>    </span>IESODIS = Internal
external switch over mode disabled</span></i><span style='font-size:10.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'><span style='mso-spacerun:yes'>    </span>FCMDIS = Monitor Clock
fail-safe disabled</span></i><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>*/</span></i><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>/*-------------------- Module Definitions
----------------------*/</span></i><span style='font-size:10.0pt;font-family:
"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#00B800'>#define FALSE 0x00</span><span style='font-size:10.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#00B800'>#define TRUE 0x01</span><span style='font-size:10.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#00B800'>#define MaxMesgLen 20</span><span style='font-size:10.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#EC7F15'>typedef</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<span style='color:blue'>enum</span> <span style='color:red'>{</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>EMPTY</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:red'>,</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>NEW</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>1</span><span style='color:red'>,</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>WAITING_VALIDATION</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>2</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:red'>}</span><span style='font-size:10.0pt;font-family:"Courier New"'> <span
style='color:black'>Buffer_State</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#EC7F15'>typedef</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<span style='color:blue'>enum</span> <span style='color:red'>{</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>OFF</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:red'>,</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>ON</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>  </span><span style='color:red'>=</span> <span
style='color:#A900A9'>1</span><span style='color:red'>,</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>FLASH</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>2</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:red'>}</span><span style='font-size:10.0pt;font-family:"Courier New"'> <span
style='color:black'>Light_State</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>/*-------------------- Global Variables ----------------------*/</span></i><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>//global variables for motor control data transfer</span></i><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static unsigned char</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>BoatCmdBytes</span><span
style='color:red'>[</span><span style='color:#A900A9'>4</span><span
style='color:red'>];</span> <i><span style='color:#666666'>// bytes 0-2 come
from HC, byte 3 controls crab pot</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static char</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<span style='color:black'>BoatCmdIndex</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>//global variables for RFID data transfer from SPI</span></i><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static unsigned char</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>RFID_Data</span><span
style='color:red'>[</span><span style='color:#A900A9'>6</span><span
style='color:red'>];</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static char</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<span style='color:black'>RFID_Data_Ready</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static char</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<span style='color:black'>RFID_Data_WaitingOnNeptune</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static unsigned char</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>potID</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static unsigned char</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>lastTimeSPI</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>//global variables for team broadcasts</span></i><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static unsigned char</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>notUsedDontDelete</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static unsigned char</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>isOpenSeason</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static unsigned char</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>teamColor</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static unsigned char</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>teamCipher</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static char</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<span style='color:black'>isTeamLeader</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>//global variables for crab indicator</span></i><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static unsigned int</span><span style='font-size:10.0pt;font-family:
"Courier New"'> <span style='color:black'>crabInBoat</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>//global variables fo XB comm</span></i><span style='font-size:
10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static unsigned char</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>XB_RXBuffer</span><span
style='color:red'>[</span><span style='color:black'>MaxMesgLen</span><span
style='color:red'>];</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static char</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<span style='color:black'>XB_RXBufferIndex</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static char</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<span style='color:black'>XB_RXInProgress</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static unsigned char</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>XB_lastRXTime</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static const unsigned char</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>XB_RXTimeoutDelay</span> <span
style='color:red'>=</span> <span style='color:#A900A9'>200</span><span
style='color:red'>;</span> <i><span style='color:#666666'>//counts of TMR0 (200
ticks ~ 10 [ms])</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static unsigned char</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>XB_RXMsg</span><span
style='color:red'>[</span><span style='color:black'>MaxMesgLen</span><span
style='color:red'>];</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static char</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<span style='color:black'>XB_RXMsgReady</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static unsigned char</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>XB_RXMsgLength</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static unsigned char</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>XB_TXBuffer</span><span
style='color:red'>[</span><span style='color:black'>MaxMesgLen</span><span
style='color:red'>];</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static char</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<span style='color:black'>XB_TXBufferIndex</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static char</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<span style='color:black'>XB_TXInProgress</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static char</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<span style='color:black'>XB_TXBufferMsgLen</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>//outgoing message buffers</span></i><span style='font-size:
10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static unsigned char</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>XB_TXSWBuffers</span><span
style='color:red'>[</span><span style='color:#A900A9'>5</span><span
style='color:red'>][</span><span style='color:#A900A9'>12</span><span
style='color:red'>];</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<span style='color:black'>Buffer_State XB_TXBufferStates</span><span
style='color:red'>[</span><span style='color:#A900A9'>5</span><span
style='color:red'>];</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static unsigned char</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>tempData</span><span
style='color:red'>[</span><span style='color:#A900A9'>7</span><span
style='color:red'>];</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>const static char</span><span style='font-size:10.0pt;font-family:
"Courier New"'> <span style='color:black'>XB_HCWLIndex</span> <span
style='color:red'>=</span> <span style='color:#A900A9'>0</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>const static char</span><span style='font-size:10.0pt;font-family:
"Courier New"'> <span style='color:black'>XB_HCRFIDIndex</span> <span
style='color:red'>=</span> <span style='color:#A900A9'>1</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>const static char</span><span style='font-size:10.0pt;font-family:
"Courier New"'> <span style='color:black'>XB_HCFleetIndex</span> <span
style='color:red'>=</span> <span style='color:#A900A9'>2</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>const static char</span><span style='font-size:10.0pt;font-family:
"Courier New"'> <span style='color:black'>XB_BroadCastIndex</span> <span
style='color:red'>=</span> <span style='color:#A900A9'>3</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>const static char</span><span style='font-size:10.0pt;font-family:
"Courier New"'> <span style='color:black'>XB_NeptuneIndex</span> <span
style='color:red'>=</span> <span style='color:#A900A9'>4</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<span style='color:black'>Light_State LEDState</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static unsigned char</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>lastTickTime</span><span
style='color:red'>;</span> <i><span style='color:#666666'>// ~tick every 10 ms</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static unsigned char</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>timerLEDFlash</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static unsigned char</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>timerBoatCmdTimeout</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static unsigned char</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>last_WL_Status</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static char</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<span style='color:black'>waitingForLeader</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static unsigned char</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>timerLeaderMsg</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>static unsigned char</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>timerAckTimeout</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>/*-------------------- Prototypes ----------------------*/</span></i><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>init_SPI_MasterMode</span></b> <span
style='color:red'>(</span><span style='color:blue'>void</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>init_modVariables</span></b> <span
style='color:red'>(</span><span style='color:blue'>void</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>checkSPI</span></b> <span style='color:red'>(</span><span
style='color:blue'>void</span><span style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>TX_SPI</span></b> <span style='color:red'>(</span><span
style='color:blue'>void</span><span style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>init_XB</span></b><span style='color:red'>(</span><span
style='color:blue'>void</span><span style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>char</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>XB_newMessageToTransmit</span></b><span
style='color:red'>(</span><span style='color:blue'>void</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>XB_sendNextMessage</span></b><span
style='color:red'>(</span><span style='color:blue'>void</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<span style='color:black'>interrupt</span> <b><span style='color:black'>interruptRoutine</span></b><span
style='color:red'>(</span><span style='color:blue'>void</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>char</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>XB_IsValidRcvdMessage</span></b><span
style='color:red'>(</span><span style='color:blue'>void</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>XB_HandleMessage</span></b><span style='color:
red'>(</span><span style='color:blue'>void</span><span style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>HandleRFIDSwipe</span></b><span style='color:red'>(</span><span
style='color:blue'>void</span><span style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>unsigned char</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>identify_RFID</span></b><span style='color:red'>(</span><span
style='color:blue'>unsigned char</span><span style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>updateCrabInBoat</span></b><span style='color:
red'>(</span><span style='color:blue'>int</span> <span style='color:black'>newAmt</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>createMsg</span></b><span style='color:red'>(</span><span
style='color:blue'>unsigned char</span> <span style='color:black'>bufferIndex</span><span
style='color:red'>,</span> <span style='color:blue'>unsigned char</span> <span
style='color:black'>dest_MSB</span><span style='color:red'>,</span> <span
style='color:blue'>unsigned char</span> <span style='color:black'>dest_LSB</span><span
style='color:red'>,</span> <span style='color:blue'>unsigned char</span> <span
style='color:black'>dataLen</span><span style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>sendMsg</span></b><span style='color:red'>(</span><span
style='color:blue'>unsigned char</span> <span style='color:black'>bufferIndex</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>/*-----------------------------------------------------*/</span></i><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>/*----------------------- Code --------------------*/</span></i><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>main</span></b> <span style='color:red'>(</span><span
style='color:blue'>void</span><span style='color:red'>){</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:blue'>char</span> <span
style='color:black'>temp</span><span style='color:red'>,</span> <span
style='color:black'>i</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><b><span style='color:blue'>for</span></b> <span
style='color:red'>(</span><span style='color:black'>i</span><span
style='color:red'>=</span><span style='color:#A900A9'>0</span><span
style='color:red'>;</span> <span style='color:black'>i</span><span
style='color:red'>&lt;</span><span style='color:#A900A9'>5</span><span
style='color:red'>;</span> <span style='color:black'>i</span><span
style='color:red'>++) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:2'>      </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>i</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><b><span style='color:black'>init_SPI_MasterMode</span></b><span
style='color:red'>();</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><b><span style='color:black'>init_XB</span></b><span
style='color:red'>();</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>notUsedDontDelete</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0x78</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><i><span style='color:#666666'>//SET INITIAL
VALUES FOR MODULAR VARIABLES</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><i><span style='color:#666666'>//motor
control data transfer</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>BoatCmdIndex</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>last_WL_Status</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>FALSE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><i><span style='color:#666666'>//global
variables for RFID data transfer from SPI</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>RFID_Data_Ready</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>FALSE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>RFID_Data_WaitingOnNeptune</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>FALSE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><i><span style='color:#666666'>//variables
for team broadcasts</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>isOpenSeason</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>FALSE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>teamColor</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0x44</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>temp</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>teamColor</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>teamCipher</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0x1C</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>isTeamLeader</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>FALSE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>waitingForLeader</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>FALSE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><i><span style='color:#666666'>//variables
for crab indicator</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>crabInBoat</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0x00</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><i><span style='color:#666666'>// XB comm
variables</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>XB_RXBufferIndex</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>XB_RXInProgress</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>FALSE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>XB_RXMsgReady</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>FALSE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>XB_TXBufferIndex</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>XB_TXInProgress</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>FALSE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><i><span style='color:#666666'>// outgoing
message buffers</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><b><span style='color:blue'>for</span></b> <span
style='color:red'>(</span><span style='color:black'>i</span><span
style='color:red'>=</span><span style='color:#A900A9'>0</span><span
style='color:red'>;</span> <span style='color:black'>i</span><span
style='color:red'>&lt;</span><span style='color:#A900A9'>5</span><span
style='color:red'>;</span> <span style='color:black'>i</span><span
style='color:red'>++) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:2'>      </span>XB_TXBufferStates</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>i</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>EMPTY</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>LEDState</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>OFF</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>lastTickTime</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>TMR0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>timerLEDFlash</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0x00</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>timerAckTimeout</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0x00</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><i><span style='color:#666666'>//enable debug
LED</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>PORTA</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>&amp;=
(</span><span style='color:black'>BIT1LO</span> <span style='color:red'>&amp;</span>
<span style='color:black'>BIT0LO</span><span style='color:red'>);</span> <i><span
style='color:#666666'>//Turn Off all lights</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>TRISA</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>&amp;=
(</span><span style='color:black'>BIT1LO</span> <span style='color:red'>&amp;</span>
<span style='color:black'>BIT0LO</span><span style='color:red'>);</span> <i><span
style='color:#666666'>//make outputs</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><i><span style='color:#666666'>/*RFID_Data[0]
= 0x83;</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'><span style='mso-tab-count:1'>   </span>RFID_Data[1] = 0xBE;</span></i><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'><span style='mso-tab-count:1'>   </span>RFID_Data[2] = 0x83;</span></i><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'><span style='mso-tab-count:1'>   </span>RFID_Data[3] = 0x23;</span></i><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'><span style='mso-tab-count:1'>   </span>RFID_Data[4] = 0xA1;</span></i><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'><span style='mso-tab-count:1'>   </span>RFID_Data[5] = 0x32;*/</span></i><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><b><span style='color:blue'>while</span></b><span
style='color:red'>(</span><span style='color:#A900A9'>1</span><span
style='color:red'>){</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><b><span style='color:black'>checkSPI</span></b><span
style='color:red'>();</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><b><span style='color:blue'>if</span></b> <span
style='color:red'>((</span><span style='color:black'>RFID_Data_Ready</span> <span
style='color:red'>==</span> <span style='color:black'>TRUE</span><span
style='color:red'>) &amp;&amp; (</span><span style='color:black'>RFID_Data_WaitingOnNeptune</span>
<span style='color:red'>==</span> <span style='color:black'>FALSE</span><span
style='color:red'>)) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:black'>HandleRFIDSwipe</span></b><span
style='color:red'>();</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>XB_RXMsgReady</span> <span
style='color:red'>==</span> <span style='color:black'>TRUE</span><span
style='color:red'>){</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>            </span><b><span style='color:black'>XB_HandleMessage</span></b><span
style='color:red'>();</span> <i><span style='color:#666666'>//update crab
count, crate out going XB messages</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><b><span style='color:blue'>if</span></b> <span
style='color:red'>(</span><span style='color:black'>XB_TXInProgress</span> <span
style='color:red'>==</span> <span style='color:black'>FALSE</span><span
style='color:red'>){</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>            </span><b><span style='color:black'>XB_sendNextMessage</span></b><span
style='color:red'>();</span> <i><span style='color:#666666'>//queue up the next
outgoing message to be sent on hardware</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><i><span style='color:#666666'>//check
[ms] counter</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><b><span style='color:blue'>if</span></b><span
style='color:red'>(((</span><span style='color:blue'>unsigned char</span><span
style='color:red'>)(</span><span style='color:black'>TMR0</span> <span
style='color:red'>-</span> <span style='color:black'>lastTickTime</span><span
style='color:red'>)) &gt;</span> <span style='color:#A900A9'>200</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span>lastTickTime</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>TMR0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><i><span style='color:#666666'>//update
counters</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span>timerAckTimeout</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>++;</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>timerAckTimeout</span>
<span style='color:red'>&gt;</span> <span style='color:#A900A9'>50</span><span
style='color:red'>) {</span> <i><span style='color:#666666'>//~ 0.5 sec</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>timerAckTimeout</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:red'>;</span> <i><span
style='color:#666666'>// reset timer</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><i><span style='color:#666666'>//stop
waiting on validation, assume it all worked</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:blue'>for</span></b>
<span style='color:red'>(</span><span style='color:black'>i</span><span
style='color:red'>=</span><span style='color:#A900A9'>0</span><span
style='color:red'>;</span> <span style='color:black'>i</span><span
style='color:red'>&lt;</span><span style='color:#A900A9'>5</span><span
style='color:red'>;</span> <span style='color:black'>i</span><span
style='color:red'>++) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>XB_TXBufferStates</span><span
style='color:red'>[</span><span style='color:black'>i</span><span
style='color:red'>] ==</span> <span style='color:black'>WAITING_VALIDATION</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:6'>                  </span>XB_TXBufferStates</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>i</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>EMPTY</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>waitingForLeader</span>
<span style='color:red'>==</span> <span style='color:black'>TRUE</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>timerLeaderMsg</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>++;</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>timerLeaderMsg</span>
<span style='color:red'>&gt;</span> <span style='color:#A900A9'>200</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>waitingForLeader</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>FALSE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>isTeamLeader</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>TRUE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><b><span style='color:black'>updateCrabInBoat</span></b><span
style='color:red'>(</span><span style='color:#A900A9'>300</span><span
style='color:red'>);</span> <i><span style='color:#666666'>//leader indicator</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>PORTA</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>|=</span>
<span style='color:black'>BIT1HI</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span>timerBoatCmdTimeout</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>++;</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>timerBoatCmdTimeout</span>
<span style='color:red'>&gt;</span> <span style='color:#A900A9'>100</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><i><span style='color:#666666'>//time
out boat commands for propellers</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>BoatCmdBytes</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>0</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0x00</span><span
style='color:red'>;</span> <i><span style='color:#666666'>// set motor 0 to
stopped</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>BoatCmdBytes</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>1</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0x40</span><span
style='color:red'>;</span> <i><span style='color:#666666'>// set motor 1 to
stopped</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>last_WL_Status</span>
<span style='color:red'>==</span> <span style='color:black'>TRUE</span><span
style='color:red'>) {</span> <i><span style='color:#666666'>//make LEDs blink</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>timerLEDFlash</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>++;</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>timerLEDFlash</span> <span
style='color:red'>&gt;</span> <span style='color:#A900A9'>19</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>timerLEDFlash</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>((</span><span style='color:black'>PORTA</span> <span
style='color:red'>&amp;</span> <span style='color:black'>BIT0HI</span><span
style='color:red'>) ==</span> <span style='color:black'>BIT0HI</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:6'>                  </span>PORTA</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>&amp;=</span>
<span style='color:black'>BIT0LO</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><b><span style='color:blue'>else</span></b>
<span style='color:red'>{</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:6'>                  </span>PORTA</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>|=</span>
<span style='color:black'>BIT0HI</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>else</span></b>
<span style='color:red'>{</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>LEDState</span> <span
style='color:red'>==</span> <span style='color:black'>ON</span><span
style='color:red'>)</span> <span style='color:black'>PORTA</span> <span
style='color:red'>|=</span> <span style='color:black'>BIT0HI</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:blue'>else</span></b>
<span style='color:black'>PORTA</span> <span style='color:red'>&amp;=</span> <span
style='color:black'>BIT0LO</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:red'>}</span><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>/***************************************/</span></i><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>HandleRFIDSwipe</span></b><span style='color:red'>()
{</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:blue'>char</span> <span
style='color:black'>i</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:blue'>unsigned char</span>
<span style='color:black'>MSB</span><span style='color:red'>,</span> <span
style='color:black'>LSB</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><i><span style='color:#666666'>// figure out
pot ID from lookup table</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>potID</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<b><span style='color:black'>identify_RFID</span></b><span style='color:red'>(</span><span
style='color:black'>RFID_Data</span><span style='color:red'>[</span><span
style='color:#A900A9'>2</span><span style='color:red'>]);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>RFID_Data_Ready</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>FALSE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><i><span style='color:#666666'>// check if
team color card (forces boat out of season)</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><b><span style='color:blue'>if</span></b> <span
style='color:red'>((</span><span style='color:black'>potID</span> <span
style='color:red'>==</span> <span style='color:#A900A9'>0x11</span><span
style='color:red'>) || (</span><span style='color:black'>potID</span> <span
style='color:red'>==</span> <span style='color:#A900A9'>0x22</span><span
style='color:red'>) || (</span><span style='color:black'>potID</span> <span
style='color:red'>==</span> <span style='color:#A900A9'>0x44</span><span
style='color:red'>)) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><i><span style='color:#666666'>// team
card (go out of season/restart game)</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:2'>      </span>isOpenSeason</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>FALSE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><b><span style='color:black'>updateCrabInBoat</span></b><span
style='color:red'>(</span><span style='color:#A900A9'>0</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><i><span style='color:#666666'>//crabInBoat
= 0;</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:2'>      </span>teamColor</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>potID</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:2'>      </span>waitingForLeader</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>TRUE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><i><span style='color:#666666'>//broadcast
message: I'm on XXX team</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:2'>      </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>0</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>teamColor</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:2'>      </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>1</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0x01</span><span
style='color:red'>;</span> <i><span style='color:#666666'>// Comm Committee mes
type for &quot;I'm on XXX team&quot;</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:2'>      </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>2</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>teamColor</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><b><span style='color:blue'>if</span></b> <span
style='color:red'>(</span><span style='color:black'>XB_TXBufferStates</span><span
style='color:red'>[</span><span style='color:black'>XB_BroadCastIndex</span><span
style='color:red'>] ==</span> <span style='color:black'>EMPTY</span><span
style='color:red'>) {</span> <i><span style='color:#666666'>//make sure
broadcast msg queue is empty</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:black'>createMsg</span></b><span
style='color:red'>(</span><span style='color:black'>XB_BroadCastIndex</span><span
style='color:red'>,</span> <span style='color:#A900A9'>0xFF</span><span
style='color:red'>,</span> <span style='color:#A900A9'>0xFF</span><span
style='color:red'>,</span> <span style='color:#A900A9'>3</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span>XB_TXBufferStates</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>XB_BroadCastIndex</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>NEW</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><i><span style='color:#666666'>//send
&quot;fake&quot; crab data to HC</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:2'>      </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>0</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>teamColor</span><span
style='color:red'>;</span> <i><span style='color:#666666'>//team assignment</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:2'>      </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>1</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:2'>      </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>2</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='mso-tab-count:1'>   </span><b><span
style='color:blue'>if</span></b> <span style='color:red'>(</span><span
style='color:black'>XB_TXBufferStates</span><span style='color:red'>[</span><span
style='color:black'>XB_HCRFIDIndex</span><span style='color:red'>] ==</span> <span
style='color:black'>EMPTY</span><span style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:black'>createMsg</span></b><span
style='color:red'>(</span><span style='color:black'>XB_HCRFIDIndex</span><span
style='color:red'>,</span> <span style='color:#A900A9'>0x20</span><span
style='color:red'>,</span> <span style='color:#A900A9'>0x8A</span><span
style='color:red'>,</span> <span style='color:#A900A9'>3</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span>XB_TXBufferStates</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>XB_HCRFIDIndex</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>NEW</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><b><span style='color:blue'>else</span></b> <span
style='color:red'>{</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><i><span style='color:#666666'>//not a
team card</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><b><span style='color:blue'>if</span></b> <span
style='color:red'>(</span><span style='color:black'>isOpenSeason</span> <span
style='color:red'>==</span> <span style='color:black'>TRUE</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span>PORTA</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>|=</span>
<span style='color:black'>BIT1HI</span><span style='color:red'>;</span> <i><span
style='color:#666666'>//turn on debug LED</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><i><span style='color:#666666'>//need
to send msg to neptune with RFID data</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>0</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0x66</span><span
style='color:red'>;</span> <i><span style='color:#666666'>//neptue request byte</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>for</span></b>
<span style='color:red'>(</span><span style='color:black'>i</span><span
style='color:red'>=</span><span style='color:#A900A9'>0</span><span
style='color:red'>;</span> <span style='color:black'>i</span><span
style='color:red'>&lt;</span><span style='color:#A900A9'>6</span><span
style='color:red'>;</span> <span style='color:black'>i</span><span
style='color:red'>++) {</span> <i><span style='color:#666666'>//RFID data and
security bytes</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>i</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>+</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>1</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>RFID_Data</span><span
style='color:red'>[</span><span style='color:black'>i</span><span
style='color:red'>];</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>XB_TXBufferStates</span><span
style='color:red'>[</span><span style='color:black'>XB_NeptuneIndex</span><span
style='color:red'>] ==</span> <span style='color:black'>EMPTY</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:black'>createMsg</span></b><span
style='color:red'>(</span><span style='color:black'>XB_NeptuneIndex</span><span
style='color:red'>,</span> <span style='color:#A900A9'>0x77</span><span
style='color:red'>,</span> <span style='color:#A900A9'>0x77</span><span
style='color:red'>,</span> <span style='color:#A900A9'>7</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>RFID_Data_WaitingOnNeptune</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>TRUE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>XB_TXBufferStates</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>XB_NeptuneIndex</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>NEW</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><b><span style='color:blue'>else</span></b>
<span style='color:red'>{</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><i><span style='color:#666666'>//treat
as a verification card</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><i><span style='color:#666666'>//SEND
OUT broadcast message of &quot;fake&quot; crab data</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>0</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>teamColor</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>1</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0x03</span><span
style='color:red'>;</span> <i><span style='color:#666666'>// Comm Committee mes
type for &quot;Crab pot ____ is accumulating at a rate of ____ &quot;</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>2</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0xA0</span>
<span style='color:black'>^ teamCipher</span><span style='color:red'>;</span> <i><span
style='color:#666666'>// fake crab pot #0 encoded using cipher</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>3</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>RFID_Data</span><span
style='color:red'>[</span><span style='color:#A900A9'>2</span><span
style='color:red'>]</span> <span style='color:black'>^ teamCipher</span><span
style='color:red'>;</span> <i><span style='color:#666666'>// fake accumulation
rate straight from RFID #</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>XB_TXBufferStates</span><span
style='color:red'>[</span><span style='color:black'>XB_BroadCastIndex</span><span
style='color:red'>] ==</span> <span style='color:black'>EMPTY</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:black'>createMsg</span></b><span
style='color:red'>(</span><span style='color:black'>XB_BroadCastIndex</span><span
style='color:red'>,</span> <span style='color:#A900A9'>0xFF</span><span
style='color:red'>,</span> <span style='color:#A900A9'>0xFF</span><span
style='color:red'>,</span> <span style='color:#A900A9'>4</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>XB_TXBufferStates</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>XB_BroadCastIndex</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>NEW</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><i><span style='color:#666666'>//send
&quot;fake&quot; crab data to HC</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>0</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0xA0</span><span
style='color:red'>;</span> <i><span style='color:#666666'>//fake crab pot #0</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>1</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>RFID_Data</span><span
style='color:red'>[</span><span style='color:#A900A9'>2</span><span
style='color:red'>];</span> <i><span style='color:#666666'>//fake accumulation
rate from RFID</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>crabInBoat</span> <span
style='color:red'>&gt;</span> <span style='color:#A900A9'>255</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>MSB</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0x01</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>LSB</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>= (</span><span
style='color:black'>crabInBoat</span> <span style='color:red'>-</span> <span
style='color:#A900A9'>256</span><span style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>else</span></b>
<span style='color:red'>{</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>MSB</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0x00</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>LSB</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>= (</span><span
style='color:blue'>unsigned char</span><span style='color:red'>)</span> <span
style='color:black'>crabInBoat</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>2</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>MSB</span><span
style='color:red'>;</span> <i><span style='color:#666666'>// total amount of
crab in boat MSB</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>3</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>LSB</span><span
style='color:red'>;</span> <i><span style='color:#666666'>// total amount of
crab in boat LSB</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>XB_TXBufferStates</span><span
style='color:red'>[</span><span style='color:black'>XB_HCRFIDIndex</span><span
style='color:red'>] ==</span> <span style='color:black'>EMPTY</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:black'>createMsg</span></b><span
style='color:red'>(</span><span style='color:black'>XB_HCRFIDIndex</span><span
style='color:red'>,</span> <span style='color:#A900A9'>0x20</span><span
style='color:red'>,</span> <span style='color:#A900A9'>0x8A</span><span
style='color:red'>,</span> <span style='color:#A900A9'>4</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>XB_TXBufferStates</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>XB_HCRFIDIndex</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>NEW</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:red'>}</span><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>XB_HandleMessage</span></b><span style='color:
red'>(</span><span style='color:blue'>void</span><span style='color:red'>){</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:blue'>unsigned char</span>
<span style='color:black'>bufferIndex</span><span style='color:red'>,</span> <span
style='color:black'>needToBroadCast</span><span style='color:red'>,</span> <span
style='color:black'>MSB</span><span style='color:red'>,</span> <span
style='color:black'>LSB</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><i><span style='color:#666666'>// clear flag,
message will be handled here</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>XB_RXMsgReady</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><i><span style='color:#666666'>//check if it
was a status message from XB</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><b><span style='color:blue'>if</span></b> <span
style='color:red'>(</span><span style='color:black'>XB_RXMsg</span><span
style='color:red'>[</span><span style='color:#A900A9'>3</span><span
style='color:red'>] ==</span> <span style='color:#A900A9'>0x89</span><span
style='color:red'>) {</span> <i><span style='color:#666666'>//status message
from XBee</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:2'>      </span>bufferIndex</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>XB_RXMsg</span><span style='color:red'>[</span><span
style='color:#A900A9'>4</span><span style='color:red'>] -</span> <span
style='color:#A900A9'>1</span><span style='color:red'>;</span> <i><span
style='color:#666666'>//bufferIndex = frame_id - 1</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><b><span style='color:blue'>if</span></b> <span
style='color:red'>(</span><span style='color:black'>XB_RXMsg</span><span
style='color:red'>[</span><span style='color:#A900A9'>5</span><span
style='color:red'>] ==</span> <span style='color:#A900A9'>0x00</span><span
style='color:red'>)</span> <span style='color:black'>XB_TXBufferStates</span><span
style='color:red'>[</span><span style='color:black'>bufferIndex</span><span
style='color:red'>] =</span> <span style='color:black'>EMPTY</span><span
style='color:red'>;</span> <i><span style='color:#666666'>//msg successfully
sent</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><b><span style='color:blue'>else</span></b>
<span style='color:black'>XB_TXBufferStates</span><span style='color:red'>[</span><span
style='color:black'>bufferIndex</span><span style='color:red'>] =</span> <span
style='color:black'>NEW</span><span style='color:red'>;</span> <i><span
style='color:#666666'>//msg failed, send again</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><b><span style='color:blue'>else</span></b> <span
style='color:red'>{</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><b><span style='color:blue'>if</span></b> <span
style='color:red'>((</span><span style='color:black'>XB_RXMsg</span><span
style='color:red'>[</span><span style='color:#A900A9'>3</span><span
style='color:red'>] ==</span> <span style='color:#A900A9'>0x81</span><span
style='color:red'>) &amp;&amp; (</span><span style='color:black'>XB_RXMsg</span><span
style='color:red'>[</span><span style='color:#A900A9'>4</span><span
style='color:red'>]==</span><span style='color:#A900A9'>0x77</span><span
style='color:red'>) &amp;&amp; (</span><span style='color:black'>XB_RXMsg</span><span
style='color:red'>[</span><span style='color:#A900A9'>5</span><span
style='color:red'>]==</span><span style='color:#A900A9'>0x77</span><span
style='color:red'>)){</span> <i><span style='color:#666666'>//message from
Neptune</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><i><span style='color:#666666'>//determine
if it's a broadcast from neptune (must be Open Season)</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>XB_RXMsg</span><span
style='color:red'>[</span><span style='color:#A900A9'>7</span><span
style='color:red'>] &amp;</span> <span style='color:black'>BIT1HI</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><i><span style='color:#666666'>//open
season!</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>isOpenSeason</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>TRUE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:black'>updateCrabInBoat</span></b><span
style='color:red'>(</span><span style='color:#A900A9'>0</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><i><span style='color:#666666'>//crabInBoat
= 0; //force flag back down in case it was up to indicate we are the team
captain</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>0</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0xCC</span><span
style='color:red'>;</span> <i><span style='color:#666666'>//open season
indications</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>1</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0</span><span
style='color:red'>;</span> <span style='mso-spacerun:yes'>   </span><i><span
style='color:#666666'>//crab accumulation rate</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>2</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0</span><span
style='color:red'>;</span> <span style='mso-spacerun:yes'>   </span><i><span
style='color:#666666'>//total amount of crab in boat MSB</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span><span
style='mso-tab-count:1'>   </span>tempData</span><span style='font-size:10.0pt;
font-family:"Courier New";color:red'>[</span><span style='font-size:10.0pt;
font-family:"Courier New";color:#A900A9'>3</span><span style='font-size:10.0pt;
font-family:"Courier New";color:red'>] =</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:#A900A9'>0</span><span
style='color:red'>;</span> <span style='mso-spacerun:yes'>   </span><i><span
style='color:#666666'>//total amount of crab in boat LSB</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>XB_TXBufferStates</span><span
style='color:red'>[</span><span style='color:black'>XB_HCRFIDIndex</span><span
style='color:red'>] ==</span> <span style='color:black'>EMPTY</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><b><span style='color:black'>createMsg</span></b><span
style='color:red'>(</span><span style='color:black'>XB_HCRFIDIndex</span><span
style='color:red'>,</span> <span style='color:#A900A9'>0x20</span><span
style='color:red'>,</span> <span style='color:#A900A9'>0x8A</span><span
style='color:red'>,</span> <span style='color:#A900A9'>4</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>XB_TXBufferStates</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>XB_HCRFIDIndex</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>NEW</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>else</span></b>
<span style='color:red'>{</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><i><span style='color:#666666'>//handle
crab amount in boat</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>needToBroadCast</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:blue'>switch</span></b>
<span style='color:red'>(</span><span style='color:black'>XB_RXMsg</span><span
style='color:red'>[</span><span style='color:#A900A9'>8</span><span
style='color:red'>]) {</span> <i><span style='color:#666666'>//crab rate</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>254</span><span style='color:red'>:</span> <span
style='mso-spacerun:yes'>       </span><i><span style='color:#666666'>//unloading
dock visited, and ship</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:6'>                  </span><i><span style='color:#666666'>//reset
crab amount indicator</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:6'>                  </span><b><span style='color:black'>updateCrabInBoat</span></b><span
style='color:red'>(</span><span style='color:#A900A9'>0</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:6'>                  </span>potID</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0xEE</span><span style='color:red'>;</span><span
style='mso-spacerun:yes'>     </span><i><span style='color:#666666'>//set
&quot;crab pot ID&quot; to 0xEE = unloading dock</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><span style='mso-tab-count:4'>            </span><b><span
style='color:blue'>break</span></b><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>255</span><span style='color:red'>:</span> <i><span
style='color:#666666'>// dry dock visited</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:6'>                  </span><i><span style='color:#666666'>//
do nothing to crab count</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:6'>                  </span>potID</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0xFF</span><span style='color:red'>;</span><span
style='mso-spacerun:yes'>     </span><i><span style='color:#666666'>//set
&quot;crab pot ID&quot; to 0xFF = dry dock</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:6'>                  </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>253</span><span style='color:red'>:</span> <i><span
style='color:#666666'>//invalid security key</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:6'>                  </span><i><span style='color:#666666'>//
do nothing to crab count</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:6'>                  </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><b><span style='color:blue'>default</span></b><span
style='color:red'>:</span> <i><span style='color:#666666'>//assume its a crab
pot</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:6'>                  </span>needToBroadCast</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>1</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:6'>                  </span><i><span style='color:#666666'>//update
crab in boat count</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:6'>                  </span>crabInBoat</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>crabInBoat</span> <span style='color:red'>+ (</span><span
style='color:blue'>int</span><span style='color:red'>)(</span><span
style='color:black'>XB_RXMsg</span><span style='color:red'>[</span><span
style='color:#A900A9'>10</span><span style='color:red'>]);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:6'>                  </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>crabInBoat</span> <span
style='color:red'>&gt;</span> <span style='color:#A900A9'>300</span><span
style='color:red'>)</span> <span style='color:black'>crabInBoat</span> <span
style='color:red'>=</span> <span style='color:#A900A9'>300</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:6'>                  </span><b><span style='color:black'>updateCrabInBoat</span></b><span
style='color:red'>(</span><span style='color:black'>crabInBoat</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:6'>                  </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><i><span style='color:#666666'>//
regardless of potID, send private message to HC</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>0</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>potID</span><span
style='color:red'>;</span> <span style='mso-spacerun:yes'>      </span><i><span
style='color:#666666'>//crab pot #</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>1</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>XB_RXMsg</span><span
style='color:red'>[</span><span style='color:#A900A9'>8</span><span
style='color:red'>];</span> <i><span style='color:#666666'>//crab accumulation
rate</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>crabInBoat</span> <span
style='color:red'>&gt;</span> <span style='color:#A900A9'>255</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>MSB</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0x01</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>LSB</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>= (</span><span
style='color:black'>crabInBoat</span> <span style='color:red'>-</span> <span
style='color:#A900A9'>256</span><span style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:blue'>else</span></b>
<span style='color:red'>{</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>MSB</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0x00</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>LSB</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>= (</span><span
style='color:blue'>unsigned char</span><span style='color:red'>)</span> <span
style='color:black'>crabInBoat</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>2</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>MSB</span><span
style='color:red'>;</span> <i><span style='color:#666666'>// total amount of
crab in boat MSB</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>3</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>LSB</span><span
style='color:red'>;</span> <i><span style='color:#666666'>// total amount of
crab in boat LSB</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>XB_TXBufferStates</span><span
style='color:red'>[</span><span style='color:black'>XB_HCRFIDIndex</span><span
style='color:red'>] ==</span> <span style='color:black'>EMPTY</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><b><span style='color:black'>createMsg</span></b><span
style='color:red'>(</span><span style='color:black'>XB_HCRFIDIndex</span><span
style='color:red'>,</span> <span style='color:#A900A9'>0x20</span><span
style='color:red'>,</span> <span style='color:#A900A9'>0x8A</span><span
style='color:red'>,</span> <span style='color:#A900A9'>4</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>XB_TXBufferStates</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>XB_HCRFIDIndex</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>NEW</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><i><span style='color:#666666'>// if
a crab pot was visited (not a loading dock or dry dock) then broadcast rate to
team</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>needToBroadCast</span>
<span style='color:red'>==</span> <span style='color:#A900A9'>1</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>0</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>teamColor</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>1</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0x03</span><span
style='color:red'>;</span> <i><span style='color:#666666'>// Comm Committee mes
type for &quot;Crab pot ____ is accumulating at a rate of ____ &quot;</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>2</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>potID
^ teamCipher</span><span style='color:red'>;</span> <i><span style='color:#666666'>//
crab pot # encoded using cipher</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>3</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>XB_RXMsg</span><span
style='color:red'>[</span><span style='color:#A900A9'>8</span><span
style='color:red'>]</span> <span style='color:black'>^ teamCipher</span><span
style='color:red'>;</span> <i><span style='color:#666666'>// accumulation rate
from neptune</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>XB_TXBufferStates</span><span
style='color:red'>[</span><span style='color:black'>XB_BroadCastIndex</span><span
style='color:red'>] ==</span> <span style='color:black'>EMPTY</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:6'>                  </span><b><span style='color:black'>createMsg</span></b><span
style='color:red'>(</span><span style='color:black'>XB_BroadCastIndex</span><span
style='color:red'>,</span> <span style='color:#A900A9'>0xFF</span><span
style='color:red'>,</span> <span style='color:#A900A9'>0xFF</span><span
style='color:red'>,</span> <span style='color:#A900A9'>4</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:6'>                  </span>XB_TXBufferStates</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>XB_BroadCastIndex</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>NEW</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>RFID_Data_WaitingOnNeptune</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>FALSE</span><span style='color:red'>;</span> <i><span
style='color:#666666'>//reset flag cuz neptune responded</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><b><span style='color:blue'>else</span></b>
<span style='color:red'>{</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>((</span><span style='color:black'>XB_RXMsg</span><span
style='color:red'>[</span><span style='color:#A900A9'>3</span><span
style='color:red'>] ==</span> <span style='color:#A900A9'>0x81</span><span
style='color:red'>) &amp;&amp; (</span><span style='color:black'>XB_RXMsg</span><span
style='color:red'>[</span><span style='color:#A900A9'>4</span><span
style='color:red'>]==</span><span style='color:#A900A9'>0x20</span><span
style='color:red'>) &amp;&amp; (</span><span style='color:black'>XB_RXMsg</span><span
style='color:red'>[</span><span style='color:#A900A9'>5</span><span
style='color:red'>]==</span><span style='color:#A900A9'>0x8A</span><span
style='color:red'>)){</span><span style='mso-spacerun:yes'>        </span><i><span
style='color:#666666'>//MotorCmds from HC</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>BoatCmdBytes</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>0</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] = (</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>XB_RXMsg</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>8</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] &amp;</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>BIT7LO</span>
<span style='color:red'>&amp;</span> <span style='color:black'>BIT6LO</span><span
style='color:red'>);</span><span style='mso-spacerun:yes'>  </span><span
style='mso-tab-count:1'>  </span><i><span style='color:#666666'>// mask with 00
address to sent do M0</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>BoatCmdBytes</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>1</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] = ((</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>XB_RXMsg</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>9</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] &amp;</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>BIT7LO</span><span
style='color:red'>) |</span> <span style='color:black'>BIT6HI</span><span
style='color:red'>);</span><span style='mso-tab-count:1'>  </span><i><span
style='color:#666666'>// mask with 01 address to sent do M1</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>BoatCmdBytes</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>2</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] = (</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>XB_RXMsg</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>10</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] |</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>BIT7HI</span>
<span style='color:red'>|</span> <span style='color:black'>BIT6HI</span><span
style='color:red'>);</span><span style='mso-tab-count:1'>   </span><i><span
style='color:#666666'>// mask with 11 address to send to microphone device</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><i><span style='color:#666666'>//check
last bit in &quot;microphone&quot; byte to turn on or off LEDs</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>((</span><span style='color:black'>XB_RXMsg</span><span
style='color:red'>[</span><span style='color:#A900A9'>10</span><span
style='color:red'>] &amp;</span> <span style='color:black'>BIT0HI</span><span
style='color:red'>) ==</span> <span style='color:black'>BIT0HI</span><span
style='color:red'>)</span> <span style='color:black'>LEDState</span> <span
style='color:red'>=</span> <span style='color:black'>ON</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:blue'>else</span></b>
<span style='color:black'>LEDState</span> <span style='color:red'>=</span> <span
style='color:black'>OFF</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>timerBoatCmdTimeout</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:red'>;</span> <i><span
style='color:#666666'>// reset XB communication watchdog</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>else</span></b>
<span style='color:red'>{</span> <i><span style='color:#666666'>// not from
Neptune or HC, check to make sure it's for my team</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>XB_RXMsg</span><span
style='color:red'>[</span><span style='color:#A900A9'>8</span><span
style='color:red'>] ==</span> <span style='color:black'>teamColor</span><span
style='color:red'>) {</span> <i><span style='color:#666666'>//make sure its for
my team, if not ignore</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><b><span style='color:blue'>switch</span></b>
<span style='color:red'>(</span><span style='color:black'>XB_RXMsg</span><span
style='color:red'>[</span><span style='color:#A900A9'>9</span><span
style='color:red'>]) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:6'>                  </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0x01</span><span style='color:red'>:</span> <i><span
style='color:#666666'>//I'm on XXX Team</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:7'>                     </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>isTeamLeader</span> <span
style='color:red'>==</span> <span style='color:black'>TRUE</span><span
style='color:red'>) {</span> <i><span style='color:#666666'>//respond with
cipher</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:8'>                        </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>0</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>teamColor</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:8'>                        </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>1</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0x02</span><span
style='color:red'>;</span> <i><span style='color:#666666'>// Comm Committee mes
type for &quot;cipher is . . .&quot;</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:8'>                        </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>2</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>teamCipher</span><span
style='color:red'>;</span> <i><span style='color:#666666'>// my generated
cipher</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:8'>                        </span><b><span
style='color:blue'>if</span></b> <span style='color:red'>(</span><span
style='color:black'>XB_TXBufferStates</span><span style='color:red'>[</span><span
style='color:black'>XB_BroadCastIndex</span><span style='color:red'>] ==</span>
<span style='color:black'>EMPTY</span><span style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:9'>                           </span><b><span
style='color:black'>createMsg</span></b><span style='color:red'>(</span><span
style='color:black'>XB_BroadCastIndex</span><span style='color:red'>,</span> <span
style='color:black'>XB_RXMsg</span><span style='color:red'>[</span><span
style='color:#A900A9'>4</span><span style='color:red'>],</span> <span
style='color:black'>XB_RXMsg</span><span style='color:red'>[</span><span
style='color:#A900A9'>5</span><span style='color:red'>],</span> <span
style='color:#A900A9'>3</span><span style='color:red'>);</span> <i><span
style='color:#666666'>//send msg back to person who sent it</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:9'>                           </span>XB_TXBufferStates</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>XB_BroadCastIndex</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>NEW</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:8'>                        </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:7'>                     </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:7'>                     </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:6'>                  </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0x02</span><span style='color:red'>:</span> <i><span
style='color:#666666'>//The cipher is . . .</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:7'>                     </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>isTeamLeader</span> <span
style='color:red'>==</span> <span style='color:black'>FALSE</span><span
style='color:red'>) {</span> <i><span style='color:#666666'>//ignore if I'm
team captain</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:8'>                        </span>teamCipher</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>XB_RXMsg</span><span style='color:red'>[</span><span
style='color:#A900A9'>10</span><span style='color:red'>];</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span><span
style='mso-tab-count:5'>               </span>waitingForLeader</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>FALSE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:7'>                     </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:7'>                     </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:6'>                  </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0x03</span><span style='color:red'>:</span> <i><span
style='color:#666666'>//crab accumulation rate</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:7'>                     </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>0</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>XB_RXMsg</span><span
style='color:red'>[</span><span style='color:#A900A9'>10</span><span
style='color:red'>]</span> <span style='color:black'>^ teamCipher</span><span
style='color:red'>;</span> <i><span style='color:#666666'>//crab pot #</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:7'>                     </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>1</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>XB_RXMsg</span><span
style='color:red'>[</span><span style='color:#A900A9'>11</span><span
style='color:red'>]</span> <span style='color:black'>^ teamCipher</span><span
style='color:red'>;</span> <i><span style='color:#666666'>//crab accumulation
rate</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:7'>                     </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>crabInBoat</span> <span
style='color:red'>&gt;</span> <span style='color:#A900A9'>255</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:8'>                        </span>MSB</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0x01</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:8'>                        </span>LSB</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>= (</span><span
style='color:black'>crabInBoat</span> <span style='color:red'>-</span> <span
style='color:#A900A9'>256</span><span style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:7'>                     </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:7'>                     </span><b><span style='color:blue'>else</span></b>
<span style='color:red'>{</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:8'>                        </span>MSB</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0x00</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:8'>                        </span>LSB</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>= (</span><span
style='color:blue'>unsigned char</span><span style='color:red'>)</span> <span
style='color:black'>crabInBoat</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:7'>                     </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:7'>                     </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>2</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>MSB</span><span
style='color:red'>;</span> <i><span style='color:#666666'>// total amount of
crab in boat MSB</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:7'>                     </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>3</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>LSB</span><span
style='color:red'>;</span> <i><span style='color:#666666'>// total amount of
crab in boat LSB</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:7'>                     </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>XB_TXBufferStates</span><span
style='color:red'>[</span><span style='color:black'>XB_HCRFIDIndex</span><span
style='color:red'>] ==</span> <span style='color:black'>EMPTY</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:8'>                        </span><b><span
style='color:black'>createMsg</span></b><span style='color:red'>(</span><span
style='color:black'>XB_HCRFIDIndex</span><span style='color:red'>,</span> <span
style='color:#A900A9'>0x20</span><span style='color:red'>,</span> <span
style='color:#A900A9'>0x8A</span><span style='color:red'>,</span> <span
style='color:#A900A9'>4</span><span style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:8'>                        </span>XB_TXBufferStates</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>XB_HCRFIDIndex</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>NEW</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:7'>                     </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:7'>                     </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:red'>}</span><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>XB_sendNextMessage</span></b><span
style='color:red'>(</span><span style='color:blue'>void</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:blue'>char</span> <span
style='color:black'>i</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><b><span style='color:blue'>for</span></b> <span
style='color:red'>(</span><span style='color:black'>i</span><span
style='color:red'>=</span><span style='color:#A900A9'>0</span><span
style='color:red'>;</span> <span style='color:black'>i</span><span
style='color:red'>&lt;</span><span style='color:#A900A9'>5</span><span
style='color:red'>;</span> <span style='color:black'>i</span><span
style='color:red'>++) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><b><span style='color:blue'>if</span></b> <span
style='color:red'>(</span><span style='color:black'>XB_TXBufferStates</span><span
style='color:red'>[</span><span style='color:black'>i</span><span
style='color:red'>] ==</span> <span style='color:black'>NEW</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:black'>sendMsg</span></b><span
style='color:red'>(</span><span style='color:black'>i</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span>XB_TXBufferStates</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>i</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>WAITING_VALIDATION</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:red'>}</span><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>init_XB</span></b><span style='color:red'>(</span><span
style='color:blue'>void</span><span style='color:red'>){</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span>TRISB</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>&amp;=</span>
<span style='color:black'>BIT7LO</span><span style='color:red'>;</span><span
style='mso-spacerun:yes'>    </span><i><span style='color:#666666'>//Set Tx =
RB7 = 0 = output</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span>TRISB</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>|=</span>
<span style='color:black'>BIT5HI</span><span style='color:red'>;</span><span
style='mso-spacerun:yes'>    </span><i><span style='color:#666666'>//Set Rx =
RB5 = 1 for input</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span>TRISA</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>|=</span>
<span style='color:black'>BIT2HI</span><span style='color:red'>;</span><span
style='mso-spacerun:yes'>    </span><i><span style='color:#666666'>//Set RA2 =
input for button press</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><i><span style='color:#666666'>//Set USART</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span>SPBRG</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0x81</span><span style='color:red'>;</span><span
style='mso-spacerun:yes'>       </span><i><span style='color:#666666'>//1000
0001. set baudrate = 9615bps</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span>TXSTA</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0x24</span><span style='color:red'>;</span><span
style='mso-spacerun:yes'>       </span><i><span style='color:#666666'>//0010
0100. TXEN enabled</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span>RCSTA</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0x90</span><span style='color:red'>;</span><span
style='mso-spacerun:yes'>       </span><i><span style='color:#666666'>//1001
0000. SPEN enabled, RX enabled</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><i><span style='color:#666666'>//Enable
Interrupts</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span>STATUS</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:red'>;</span> <i><span
style='color:#666666'>//Clear Status register</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span>INTCON</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:red'>;</span> <i><span
style='color:#666666'>//disable interrupts and clear T0IF flag</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span>INTEDG</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>1</span><span style='color:red'>;</span> <i><span
style='color:#666666'>//Interrupt on rising edge of INT pin</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span>INTE</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>1</span><span style='color:red'>;</span><span
style='mso-spacerun:yes'>   </span><i><span style='color:#666666'>//Enable
External Interrupts</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>                </span><i><span style='color:#666666'>//TXIE
= 1; enable Transmit Interrupts when ready to transmit(in External IRR or
transmit fxn)</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span>RCIE</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>1</span><span style='color:red'>;</span><span
style='mso-spacerun:yes'>   </span><i><span style='color:#666666'>//Enable
Receive Interrupts</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span>PEIE</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>1</span><span style='color:red'>;</span><span
style='mso-spacerun:yes'>   </span><i><span style='color:#666666'>//Enable
Peripheral Interrupts</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span>GIE</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>1</span><span style='color:red'>;</span><span
style='mso-spacerun:yes'>    </span><i><span style='color:#666666'>//Enable Global
Interrupts</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span>PIR1</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:red'>;</span><span
style='mso-spacerun:yes'>   </span><i><span style='color:#666666'>//Clear all
flag bits</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:red'>}</span><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>updateCrabInBoat</span></b><span style='color:
red'>(</span><span style='color:blue'>int</span> <span style='color:black'>newAmt</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:blue'>int</span> <span
style='color:black'>temp</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><i><span style='color:#666666'>//set crab in
boat count to newAmt</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>crabInBoat</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>newAmt</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>temp</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>= (</span><span
style='color:black'>crabInBoat</span><span style='color:red'>*</span><span
style='color:#A900A9'>2</span><span style='color:red'>/</span><span
style='color:#A900A9'>9</span><span style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><b><span style='color:blue'>if</span></b> <span
style='color:red'>(</span><span style='color:black'>temp</span> <span
style='color:red'>&gt;</span> <span style='color:#A900A9'>63</span><span
style='color:red'>)</span> <span style='color:black'>temp</span> <span
style='color:red'>=</span> <span style='color:#A900A9'>63</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><b><span style='color:blue'>if</span></b> <span
style='color:red'>(</span><span style='color:black'>temp</span> <span
style='color:red'>&lt;</span> <span style='color:#A900A9'>0</span> <span
style='color:red'>)</span> <span style='color:black'>temp</span> <span
style='color:red'>=</span> <span style='color:#A900A9'>0</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>BoatCmdBytes</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>3</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] = (((</span><span
style='font-size:10.0pt;font-family:"Courier New";color:blue'>unsigned char</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>)</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>temp</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>) |</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>BIT7HI</span><span
style='color:red'>) &amp;</span> <span style='color:black'>BIT6LO</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:red'>}</span><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>/**************************************************/</span></i><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>//IRR for all interrupt sources</span></i><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<span style='color:black'>interrupt</span> <b><span style='color:black'>interruptRoutine</span></b><span
style='color:red'>(</span><span style='color:blue'>void</span><span
style='color:red'>){</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'> </span><span style='mso-spacerun:yes'>  </span><span
style='color:blue'>char</span> <span style='color:black'>a</span><span
style='color:red'>,</span> <span style='color:black'>i</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>   </span><span style='color:blue'>unsigned char</span>
<span style='color:black'>temp_RCREG</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:blue'>unsigned char</span>
<span style='color:black'>sum_XB_RcvdMsg</span> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:blue'>unsigned char</span>
<span style='color:black'>testVSum</span> <span style='color:red'>=</span> <span
style='color:#A900A9'>0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:blue'>unsigned char</span>
<span style='color:black'>length_XB_RcvdMsgBuffer</span><span style='color:
red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:blue'>unsigned char</span>
<span style='color:black'>checkSum_XB_RcvdMsg</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><i><span style='color:#666666'>/*Check to
see if Transmit Interrupt</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'><span style='mso-spacerun:yes'>      </span>Enable only when I
have a message to transmit. Must enable TXIE in code when ready to send</span></i><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'><span style='mso-spacerun:yes'>    </span>*/</span></i><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><b><span style='color:blue'>if</span></b> <span
style='color:red'>(</span><span style='color:black'>TXIF</span> <span
style='color:red'>==</span> <span style='color:#A900A9'>1</span><span
style='color:red'>){</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>       </span><span style='mso-spacerun:yes'> </span><b><span
style='color:blue'>if</span></b> <span style='color:red'>(</span><span
style='color:black'>XB_TXInProgress</span> <span style='color:red'>==</span> <span
style='color:#A900A9'>1</span><span style='color:red'>){</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>            </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>XB_TXBufferIndex</span>
<span style='color:red'>&lt;</span> <span style='color:black'>XB_TXBufferMsgLen</span><span
style='color:red'>){</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>                </span>TXREG</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>XB_TXBuffer</span><span style='color:red'>[</span><span
style='color:black'>XB_TXBufferIndex</span><span style='color:red'>];</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>               
</span>XB_TXBufferIndex</span><span style='font-size:10.0pt;font-family:"Courier New";
color:red'>++;</span><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>            </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>            </span><b><span style='color:blue'>else</span></b>
<span style='color:red'>{</span><span style='mso-spacerun:yes'>          
</span><i><span style='color:#666666'>//went past array and done transmitting</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>                </span>TXIE</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:red'>;</span><span
style='mso-spacerun:yes'>   </span><span style='mso-spacerun:yes'> </span><i><span
style='color:#666666'>//disable Transmit Interrupts</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>               
</span>XB_TXBufferIndex</span><span style='font-size:10.0pt;font-family:"Courier New";
color:red'>=</span><span style='font-size:10.0pt;font-family:"Courier New";
color:#A900A9'>0</span><span style='font-size:10.0pt;font-family:"Courier New";
color:red'>;</span><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>               
</span>XB_TXInProgress</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<span style='color:red'>=</span> <span style='color:#A900A9'>0</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>            </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><b><span style='color:blue'>if</span></b> <span
style='color:red'>(</span><span style='color:black'>RCIF</span> <span
style='color:red'>==</span> <span style='color:#A900A9'>1</span><span
style='color:red'>){</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>temp_RCREG</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<span style='color:red'>=</span> <span style='color:black'>RCREG</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span><span
style='mso-spacerun:yes'> </span><span style='mso-tab-count:1'>  </span>XB_lastRXTime</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>TMR0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><i><span style='color:#666666'>//First
byte = Start delimiter byte is always 0x7E</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>((</span><span style='color:black'>XB_RXBufferIndex</span>
<span style='color:red'>==</span> <span style='color:#A900A9'>0</span><span
style='color:red'>) &amp;&amp; (</span><span style='color:black'>temp_RCREG</span>
<span style='color:red'>==</span> <span style='color:#A900A9'>0x7E</span><span
style='color:red'>)){</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>      </span><span
style='mso-tab-count:1'>   </span>XB_RXBuffer</span><span style='font-size:
10.0pt;font-family:"Courier New";color:red'>[</span><span style='font-size:
10.0pt;font-family:"Courier New";color:#A900A9'>0</span><span style='font-size:
10.0pt;font-family:"Courier New";color:red'>] =</span><span style='font-size:
10.0pt;font-family:"Courier New"'> <span style='color:black'>temp_RCREG</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:2'>      </span><span style='mso-tab-count:
1'>   </span>XB_RXInProgress</span><span style='font-size:10.0pt;font-family:
"Courier New"'> <span style='color:red'>=</span> <span style='color:#A900A9'>1</span><span
style='color:red'>;</span> <i><span style='color:#666666'>//set flag indicating
a message is in progress</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>((</span><span style='color:black'>XB_RXBufferIndex</span>
<span style='color:red'>&gt;</span> <span style='color:#A900A9'>0</span><span
style='color:red'>)){</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><span style='mso-tab-count:1'>   </span><i><span
style='color:#666666'>// check to make sure to not overrun the end of the array</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><span style='mso-tab-count:1'>   </span><b><span
style='color:blue'>if</span></b> <span style='color:red'>(</span><span
style='color:black'>XB_RXBufferIndex</span> <span style='color:red'>&gt;=</span>
<span style='color:black'>MaxMesgLen</span><span style='color:red'>)</span> <span
style='color:black'>XB_RXBufferIndex</span> <span style='color:red'>=</span> <span
style='color:black'>MaxMesgLen</span><span style='color:red'>-</span><span
style='color:#A900A9'>1</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>         </span>XB_RXBuffer</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>XB_RXBufferIndex</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>temp_RCREG</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>         </span><i><span style='color:#666666'>//Byte
2 = length byte</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>         </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>XB_RXBufferIndex</span>
<span style='color:red'>==</span> <span style='color:#A900A9'>2</span><span
style='color:red'>){</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>            </span>length_XB_RcvdMsgBuffer</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>temp_RCREG</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><span style='mso-spacerun:yes'>    </span><span
style='mso-tab-count:1'>  </span><i><span style='color:#666666'>// check to
make sure to not overrun the end of the array</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><span style='mso-spacerun:yes'>    </span><span
style='mso-tab-count:1'>  </span><b><span style='color:blue'>if</span></b> <span
style='color:red'>((</span><span style='color:#A900A9'>2</span><span
style='color:red'>+</span><span style='color:black'>length_XB_RcvdMsgBuffer</span><span
style='color:red'>+</span><span style='color:#A900A9'>1</span><span
style='color:red'>) &gt;=</span> <span style='color:black'>MaxMesgLen</span><span
style='color:red'>)</span> <span style='color:black'>length_XB_RcvdMsgBuffer</span>
<span style='color:red'>=</span> <span style='color:black'>MaxMesgLen</span><span
style='color:red'>-</span><span style='color:#A900A9'>1</span><span
style='color:red'>-</span><span style='color:#A900A9'>2</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>         </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>         </span><i><span style='color:#666666'>//last
byte = checkSum byte</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>         </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>XB_RXBufferIndex</span>
<span style='color:red'>== (</span><span style='color:#A900A9'>2</span> <span
style='color:red'>+</span> <span style='color:black'>length_XB_RcvdMsgBuffer</span>
<span style='color:red'>+</span> <span style='color:#A900A9'>1</span><span
style='color:red'>)){</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>            </span>checkSum_XB_RcvdMsg</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>temp_RCREG</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:2'>      </span><span
style='mso-spacerun:yes'>    </span><span style='mso-tab-count:1'>  </span>XB_RXInProgress</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:red'>;</span> <i><span
style='color:#666666'>// set flag indicating that message is complete, tho
might not be valid</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><span style='mso-spacerun:yes'>    </span><span
style='mso-tab-count:1'>  </span><i><span style='color:#666666'>//Algorithm to
determine if message is valid</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><span style='mso-spacerun:yes'>    </span><span
style='mso-tab-count:1'>  </span><b><span style='color:blue'>for</span></b> <span
style='color:red'>(</span><span style='color:black'>i</span><span
style='color:red'>=</span><span style='color:#A900A9'>3</span><span
style='color:red'>;</span> <span style='color:black'>i</span> <span
style='color:red'>&lt; (</span><span style='color:#A900A9'>2</span><span
style='color:red'>+</span><span style='color:black'>length_XB_RcvdMsgBuffer</span><span
style='color:red'>+</span><span style='color:#A900A9'>1</span><span
style='color:red'>);</span> <span style='color:black'>i</span><span
style='color:red'>++){</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span><span
style='mso-tab-count:2'>      </span>sum_XB_RcvdMsg</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>+=</span>
<span style='color:black'>XB_RXBuffer</span><span style='color:red'>[</span><span
style='color:black'>i</span><span style='color:red'>];</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><span style='mso-spacerun:yes'>    </span><span
style='mso-tab-count:1'>  </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:2'>      </span><span
style='mso-spacerun:yes'>    </span><span style='mso-tab-count:1'>  </span>testVSum</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>checkSum_XB_RcvdMsg</span> <span style='color:red'>+</span>
<span style='color:black'>sum_XB_RcvdMsg</span><span style='color:red'>;</span>
<i><span style='color:#666666'>//Should = 0xFF</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><span style='mso-spacerun:yes'>    </span><span
style='mso-tab-count:1'>  </span><b><span style='color:blue'>if</span></b> <span
style='color:red'>((</span><span style='color:black'>sum_XB_RcvdMsg</span> <span
style='color:red'>+</span> <span style='color:black'>checkSum_XB_RcvdMsg</span><span
style='color:red'>) ==</span> <span style='color:#A900A9'>0xFF</span><span
style='color:red'>){</span><span style='mso-spacerun:yes'>      </span><i><span
style='color:#666666'>//Correct data went thru</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><span style='mso-tab-count:2'>      </span><i><span
style='color:#666666'>// move data in buffer to XB_RXMsg</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><span style='mso-tab-count:2'>      </span><b><span
style='color:blue'>for</span></b> <span style='color:red'>(</span><span
style='color:black'>i</span><span style='color:red'>=</span><span
style='color:#A900A9'>0</span><span style='color:red'>;</span> <span
style='color:black'>i</span><span style='color:red'>&lt;=</span><span
style='color:#A900A9'>18</span><span style='color:red'>;</span> <span
style='color:black'>i</span><span style='color:red'>++) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span><span
style='mso-spacerun:yes'>   </span><span style='mso-tab-count:2'>      </span>XB_RXMsg</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>i</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>XB_RXBuffer</span><span
style='color:red'>[</span><span style='color:black'>i</span><span
style='color:red'>];</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><span style='mso-tab-count:1'>   </span><span
style='mso-tab-count:1'>   </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span><span
style='mso-tab-count:2'>      </span>XB_RXMsgLength</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>length_XB_RcvdMsgBuffer</span><span style='color:
red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>XB_RXMsgReady</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>TRUE</span><span style='color:red'>;</span> <i><span
style='color:#666666'>//set flag indicating a new RX message is ready to be
processed</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='mso-spacerun:yes'>    </span><span
style='mso-tab-count:2'>     </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='mso-tab-count:2'>      </span><span
style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>     </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>     </span><b><span style='color:blue'>if</span></b> <span
style='color:red'>(</span><span style='color:black'>XB_RXBufferIndex</span> <span
style='color:red'>== (</span><span style='color:#A900A9'>2</span> <span
style='color:red'>+</span> <span style='color:black'>length_XB_RcvdMsgBuffer</span>
<span style='color:red'>+</span> <span style='color:#A900A9'>1</span><span
style='color:red'>)){</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>        </span>XB_RXBufferIndex</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>     </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>     </span><b><span style='color:blue'>else</span></b>
<span style='color:black'>XB_RXBufferIndex</span><span style='color:red'>++;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>  </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:red'>}</span><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>/*---------------------------- SPI code ----------------------*/</span></i><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'>//initialize</span></i><span style='font-size:10.0pt;font-family:
"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>init_SPI_MasterMode</span></b> <span
style='color:red'>(</span><span style='color:blue'>void</span><span
style='color:red'>){</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>   </span><span style='color:blue'>char</span> <span
style='color:black'>temp</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>   </span><i><span style='color:#666666'>//Set
inputs/outputs</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>   </span>ANSEL</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:red'>;</span><span
style='mso-spacerun:yes'>          </span><i><span style='color:#666666'>//make
all bits digital</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>   </span>ANSELH</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>   </span>TRISC</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>&amp;=</span>
<span style='color:black'>BIT7LO</span><span style='color:red'>;</span><span
style='mso-spacerun:yes'>    </span><i><span style='color:#666666'>//Set SDO as
output</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>   </span>TRISB</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>&amp;=</span>
<span style='color:black'>BIT6LO</span><span style='color:red'>;</span><span
style='mso-spacerun:yes'>    </span><i><span style='color:#666666'>//Set SCK as
output</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>   </span>TRISB</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>|=</span>
<span style='color:black'>BIT4HI</span><span style='color:red'>;</span><span
style='mso-spacerun:yes'>    </span><i><span style='color:#666666'>//Set SDI as
input</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>   </span>TRISC</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>&amp;=</span>
<span style='color:black'>BIT6LO</span><span style='color:red'>;</span><span
style='mso-tab-count:1'>  </span><span style='mso-spacerun:yes'>  </span><i><span
style='color:#666666'>//Set SS<span style='mso-spacerun:yes'>  </span>as output</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>   </span><i><span style='color:#666666'>//Set SPI
config</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>   </span>SSPSTAT</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0x00</span><span style='color:red'>;</span><span
style='mso-spacerun:yes'>     </span><i><span style='color:#666666'>//see page
15-3 of PIC mannual</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>   </span>SSPCON</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>  </span><span style='color:red'>=</span> <span
style='color:#A900A9'>0x31</span><span style='color:red'>;</span><span
style='mso-tab-count:1'>   </span><span style='mso-spacerun:yes'>  </span><i><span
style='color:#666666'>// set up SPI port, Master mode, Clk/64</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>   </span><i><span style='color:#666666'>//Set Timer0</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>   </span>OPTION</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:black'>b00000111</span><span
style='color:red'>;</span> <i><span style='color:#666666'>//pre-scale to 256;
w/extrn osc @ 20M, 1 tick ~ 0.0512 [ms]</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>   </span>temp</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>SSPBUF</span><span style='color:red'>;</span><span
style='mso-spacerun:yes'>       </span><i><span style='color:#666666'>//read to
clear flags</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>   </span><i><span style='color:#666666'>// set
initial boat command bytes</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>   </span>BoatCmdBytes</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>0</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0x00</span><span
style='color:red'>;</span><span style='mso-spacerun:yes'>   </span><i><span
style='color:#666666'>// set motor 0 to stopped</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>   </span>BoatCmdBytes</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>1</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0x40</span><span
style='color:red'>;</span><span style='mso-spacerun:yes'>   </span><i><span
style='color:#666666'>// set motor 1 to stopped</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>   </span>BoatCmdBytes</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>2</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0xf0</span><span
style='color:red'>;</span><span style='mso-spacerun:yes'>   </span><i><span
style='color:#666666'>// set microphone input to zero (not tied to an output
yet)</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>   </span>BoatCmdBytes</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>3</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0x80</span><span
style='color:red'>;</span><span style='mso-spacerun:yes'>   </span><i><span
style='color:#666666'>// set crab pot indicator to zero position</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>   </span><i><span style='color:#666666'>// initialize
timer for SPI timeout</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>   </span>lastTimeSPI</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>TMR0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:red'>}</span><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>checkSPI</span></b> <span style='color:red'>(</span><span
style='color:blue'>void</span><span style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:blue'>static unsigned char</span>
<span style='color:black'>RXByte</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:#EC7F15'>typedef</span> <span
style='color:blue'>enum</span> <span style='color:red'>{</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:2'>      </span>SLOW_RATE</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>,</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:2'>      </span>WAITING_ON_RFID</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>,</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:2'>      </span>READING_RFID</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:red'>}</span> <span
style='color:black'>SPI_State</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:blue'>static char</span> <span
style='color:black'>index</span><span style='color:red'>=</span><span
style='color:#A900A9'>0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:blue'>static char</span> <span
style='color:black'>waitingForTX</span> <span style='color:red'>=</span> <span
style='color:black'>FALSE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:blue'>static</span> <span
style='color:black'>SPI_State curState</span> <span style='color:red'>=</span> <span
style='color:black'>SLOW_RATE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><i><span style='color:#666666'>// stop fxn
here if still busy transmitting info</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><b><span style='color:blue'>if</span></b> <span
style='color:red'>(</span><span style='color:black'>waitingForTX</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><b><span style='color:blue'>if</span></b> <span
style='color:red'>(</span><span style='color:black'>BF</span> <span
style='color:red'>==</span> <span style='color:#A900A9'>0x01</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><i><span style='color:#666666'>//TX
complete!</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span>PORTC</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>|=</span>
<span style='color:black'>BIT6HI</span><span style='color:red'>;</span> <i><span
style='color:#666666'>// raise slave select line</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span>waitingForTX</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>FALSE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><b><span style='color:blue'>else</span></b>
<span style='color:red'>{</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>return</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><b><span style='color:blue'>switch</span></b><span
style='color:red'>(</span><span style='color:black'>curState</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><b><span style='color:blue'>case</span></b>
<span style='color:black'>SLOW_RATE</span><span style='color:red'>:</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><i><span style='color:#666666'>//send
SPI byte every 10 [ms]</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(((</span><span style='color:blue'>unsigned char</span><span
style='color:red'>)(</span><span style='color:black'>TMR0</span><span
style='color:red'>-</span><span style='color:black'>lastTimeSPI</span><span
style='color:red'>)) &gt;</span> <span style='color:#A900A9'>195</span><span
style='color:red'>) {</span> <i><span style='color:#666666'>// ~10 [ms]</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:black'>TX_SPI</span></b><span
style='color:red'>();</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>waitingForTX</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>TRUE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>lastTimeSPI</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>TMR0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>curState</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>WAITING_ON_RFID</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><b><span style='color:blue'>case</span></b>
<span style='color:black'>WAITING_ON_RFID</span><span style='color:red'>:</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><i><span style='color:#666666'>//waiting
on response from RFID PIC</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span>RXByte</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>SSPBUF</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>switch</span></b>
<span style='color:red'>(</span><span style='color:black'>RXByte</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0x02</span><span style='color:red'>:</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><i><span style='color:#666666'>//
no data and water log sensor is NOT active</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>last_WL_Status</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>FALSE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>curState</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>SLOW_RATE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>lastTimeSPI</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>TMR0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0x08</span><span style='color:red'>:</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><i><span style='color:#666666'>//
no data and water log sensor IS active</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>last_WL_Status</span>
<span style='color:red'>==</span> <span style='color:black'>FALSE</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:6'>                  </span><i><span style='color:#666666'>//
setup WL msg in TX buffer</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:6'>                  </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>0</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0xDD</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:6'>                  </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>1</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0x00</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:6'>                  </span>tempData</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>2</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0x00</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:6'>                  </span><b><span style='color:black'>createMsg</span></b><span
style='color:red'>(</span><span style='color:black'>XB_HCWLIndex</span><span
style='color:red'>,</span> <span style='color:#A900A9'>0x20</span><span
style='color:red'>,</span> <span style='color:#A900A9'>0x8A</span><span
style='color:red'>,</span> <span style='color:#A900A9'>3</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:6'>                  </span>XB_TXBufferStates</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>XB_HCWLIndex</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>NEW</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:6'>                  </span><i><span style='color:#666666'>//reset
crab in boat count</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:6'>                  </span><b><span style='color:black'>updateCrabInBoat</span></b><span
style='color:red'>(</span><span style='color:#A900A9'>0</span><span
style='color:red'>);</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>last_WL_Status</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>TRUE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>curState</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>SLOW_RATE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>lastTimeSPI</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>TMR0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0xAA</span><span style='color:red'>:</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><i><span style='color:#666666'>//RFID
tag has been read and we need to read the bytes</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>index</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><b><span style='color:black'>TX_SPI</span></b><span
style='color:red'>();</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>waitingForTX</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>TRUE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>lastTimeSPI</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>TMR0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>curState</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>READING_RFID</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:blue'>default</span></b><span
style='color:red'>:</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:5'>               </span><i><span style='color:#666666'>//messed
up byte on spi line, just ignore it</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>curState</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>SLOW_RATE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:5'>               </span>lastTimeSPI</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>TMR0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>      </span><b><span style='color:blue'>case</span></b>
<span style='color:black'>READING_RFID</span><span style='color:red'>:</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><i><span style='color:#666666'>//there
are 6 bytes (3 RFID, 3 Security) waiting in RFID PIC</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span>RFID_Data</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>index</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>SSPBUF</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:3'>         </span>index</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>++;</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>if</span></b>
<span style='color:red'>(</span><span style='color:black'>index</span> <span
style='color:red'>&gt;=</span> <span style='color:#A900A9'>6</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>curState</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>SLOW_RATE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>lastTimeSPI</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>TMR0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>RFID_Data_Ready</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>TRUE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>else</span></b>
<span style='color:red'>{</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:4'>            </span><b><span style='color:black'>TX_SPI</span></b><span
style='color:red'>();</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:4'>            </span>waitingForTX</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>TRUE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>         </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:red'>}</span><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>TX_SPI</span></b> <span style='color:red'>(</span><span
style='color:blue'>void</span><span style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>PORTC</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>&amp;=</span>
<span style='color:black'>BIT6LO</span><span style='color:red'>;</span> <i><span
style='color:#666666'>// lower slave select line</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>SSPBUF</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>BoatCmdBytes</span><span style='color:red'>[</span><span
style='color:black'>BoatCmdIndex</span><span style='color:red'>];</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>BoatCmdIndex</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>= (</span><span
style='color:black'>BoatCmdIndex</span><span style='color:red'>+</span><span
style='color:#A900A9'>1</span><span style='color:red'>)%</span><span
style='color:#A900A9'>4</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:red'>}</span><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>unsigned char</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>identify_RFID</span></b><span style='color:red'>(</span><span
style='color:blue'>unsigned char</span> <span style='color:black'>inputCrabPotNum</span><span
style='color:red'>){</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><i><span style='color:#666666'>//perform
translation from RFID # to crab pot #</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:blue'>unsigned char</span>
<span style='color:black'>potID</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><b><span style='color:blue'>switch</span></b><span
style='color:red'>(</span><span style='color:black'>inputCrabPotNum</span><span
style='color:red'>){</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0x47</span><span style='color:red'>:</span><span
style='mso-spacerun:yes'>            </span><i><span style='color:#666666'>//drydock</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>        </span>potID</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0xFF</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0x66</span><span style='color:red'>:</span><span
style='mso-spacerun:yes'>            </span><i><span style='color:#666666'>//drydock</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>        </span>potID</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0xFF</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0x7F</span><span style='color:red'>:</span><span
style='mso-spacerun:yes'>            </span><i><span style='color:#666666'>//unloading
dock</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>        </span>potID</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0xEE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0x79</span><span style='color:red'>:</span><span
style='mso-spacerun:yes'>            </span><i><span style='color:#666666'>//unloading
dock</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>        </span>potID</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0xEE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0xD4</span><span style='color:red'>:</span><span
style='mso-spacerun:yes'>            </span><i><span style='color:#666666'>//actually
pot ID numbers</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>        </span>potID</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0xA1</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0x07</span><span style='color:red'>:</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>        </span>potID</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0xA2</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0xC8</span><span style='color:red'>:</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>        </span>potID</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0xA3</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0x4F</span><span style='color:red'>:</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>        </span>potID</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0xA4</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0x5E</span><span style='color:red'>:</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>        </span>potID</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0xA5</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0xFE</span><span style='color:red'>:</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>        </span>potID</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0xA6</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0xED</span><span style='color:red'>:</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>        </span>potID</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0xA7</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0xF0</span><span style='color:red'>:</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>        </span>potID</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0xA8</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0x99</span><span style='color:red'>:</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>        </span>potID</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0xA9</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0x96</span><span style='color:red'>:</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>        </span>potID</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0xAA</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0x83</span><span style='color:red'>:</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>        </span>potID</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0xAB</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0xE0</span><span style='color:red'>:</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>        </span>potID</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0xAC</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0xEC</span><span style='color:red'>:</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>        </span>potID</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0x11</span><span style='color:red'>;</span><span
style='mso-tab-count:2'>      </span><i><span style='color:#666666'>//read team</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0x5A</span><span style='color:red'>:</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>        </span>potID</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0x22</span><span style='color:red'>;</span><span
style='mso-tab-count:2'>      </span><i><span style='color:#666666'>//green
team</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><b><span style='color:blue'>case</span></b>
<span style='color:#A900A9'>0x06</span><span style='color:red'>:</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>        </span>potID</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0x44</span><span style='color:red'>;</span><span
style='mso-tab-count:2'>      </span><i><span style='color:#666666'>//white
team</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><b><span style='color:blue'>break</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><b><span style='color:blue'>default</span></b><span
style='color:red'>:</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><i><span style='color:#666666'>//error
condition returns ID# 99.</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>        </span>potID</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>99</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><b><span style='color:blue'>return</span></b>
<span style='color:black'>potID</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:red'>}</span><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>createMsg</span></b><span style='color:red'>(</span><span
style='color:blue'>unsigned char</span> <span style='color:black'>bufferIndex</span><span
style='color:red'>,</span> <span style='color:blue'>unsigned char</span> <span
style='color:black'>dest_MSB</span><span style='color:red'>,</span> <span
style='color:blue'>unsigned char</span> <span style='color:black'>dest_LSB</span><span
style='color:red'>,</span> <span style='color:blue'>unsigned char</span> <span
style='color:black'>dataLen</span><span style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><i><span style='color:#666666'>//store msg
info in data structure to be sent out when TX buffer is empty</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:blue'>char</span> <span
style='color:black'>i</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>XB_TXSWBuffers</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>bufferIndex</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>][</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>0</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>dest_MSB</span><span
style='color:red'>;</span> <i><span style='color:#666666'>//MSB of address</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>XB_TXSWBuffers</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>bufferIndex</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>][</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>1</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>dest_LSB</span><span
style='color:red'>;</span> <i><span style='color:#666666'>//LSB of address</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>XB_TXSWBuffers</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>bufferIndex</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>][</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>2</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>dataLen</span><span
style='color:red'>;</span><span style='mso-spacerun:yes'>  </span><i><span
style='color:#666666'>//# of data bytes</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><b><span style='color:blue'>for</span></b> <span
style='color:red'>(</span><span style='color:black'>i</span><span
style='color:red'>=</span><span style='color:#A900A9'>0</span><span
style='color:red'>;</span> <span style='color:black'>i</span><span
style='color:red'>&lt;</span><span style='color:black'>dataLen</span><span
style='color:red'>;</span> <span style='color:black'>i</span><span
style='color:red'>++) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:2'>      </span>XB_TXSWBuffers</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>bufferIndex</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>][</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>3</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>+</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>i</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>tempData</span><span
style='color:red'>[</span><span style='color:black'>i</span><span
style='color:red'>];</span> <i><span style='color:#666666'>// data</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><b><span style='color:blue'>return</span></b><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:red'>}</span><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:blue'>void</span><span style='font-size:10.0pt;font-family:"Courier New"'>
<b><span style='color:black'>sendMsg</span></b><span style='color:red'>(</span><span
style='color:blue'>unsigned char</span> <span style='color:black'>bufferIndex</span><span
style='color:red'>) {</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><i><span style='color:#666666'>//read data
structure, create msg to be sent, put msg in TX buffer</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:blue'>char</span> <span
style='color:black'>i</span> <span style='color:red'>=</span> <span
style='color:#A900A9'>0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:blue'>unsigned char</span>
<span style='color:black'>frame_id</span><span style='color:red'>,</span> <span
style='color:black'>dest_MSB</span><span style='color:red'>,</span> <span
style='color:black'>dest_LSB</span><span style='color:red'>,</span> <span
style='color:black'>dataLen</span><span style='color:red'>,</span> <span
style='color:black'>checkSum</span><span style='color:red'>,</span> <span
style='color:black'>checkSumByteNumber</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:blue'>unsigned char</span>
<span style='color:red'>*</span><span style='color:black'>tempptr</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>timerAckTimeout</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:red'>;</span> <i><span
style='color:#666666'>//reset ack timeout</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>frame_id</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>bufferIndex</span><span style='color:red'>+</span><span
style='color:#A900A9'>1</span><span style='color:red'>;</span> <i><span
style='color:#666666'>//frame_id can't be zero, so we need to add an offset of
one</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>dest_MSB</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>XB_TXSWBuffers</span><span style='color:red'>[</span><span
style='color:black'>bufferIndex</span><span style='color:red'>][</span><span
style='color:#A900A9'>0</span><span style='color:red'>];</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>dest_LSB</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>XB_TXSWBuffers</span><span style='color:red'>[</span><span
style='color:black'>bufferIndex</span><span style='color:red'>][</span><span
style='color:#A900A9'>1</span><span style='color:red'>];</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>dataLen</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>XB_TXSWBuffers</span><span style='color:red'>[</span><span
style='color:black'>bufferIndex</span><span style='color:red'>][</span><span
style='color:#A900A9'>2</span><span style='color:red'>];</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>XB_TXBuffer</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:#A900A9'>0</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0x7E</span><span
style='color:red'>;</span> <i><span style='color:#666666'>// start_Delimiter</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span
style='mso-spacerun:yes'>  </span>XB_TXBuffer</span><span style='font-size:
10.0pt;font-family:"Courier New";color:red'>[</span><span style='font-size:
10.0pt;font-family:"Courier New";color:#A900A9'>1</span><span style='font-size:
10.0pt;font-family:"Courier New";color:red'>] =</span><span style='font-size:
10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0x00</span><span
style='color:red'>;</span> <i><span style='color:#666666'>// length_MSB: Always
0x00 b/c can only send 100bytes of data</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span
style='mso-spacerun:yes'>  </span>XB_TXBuffer</span><span style='font-size:
10.0pt;font-family:"Courier New";color:red'>[</span><span style='font-size:
10.0pt;font-family:"Courier New";color:#A900A9'>2</span><span style='font-size:
10.0pt;font-family:"Courier New";color:red'>] = (</span><span style='font-size:
10.0pt;font-family:"Courier New";color:#A900A9'>0x05</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>+</span>
<span style='color:black'>dataLen</span><span style='color:red'>);</span> <i><span
style='color:#666666'>// length_LSB: 5 (api-&gt;options) + (dataLen); Total
packet = 4 + length_LSB <o:p></o:p></span></i></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><i><span style='font-size:10.0pt;font-family:"Courier New";
color:#666666'><span
style='mso-spacerun:yes'>                                         </span>//
(b/c</span></i><span style='font-size:10.0pt;font-family:"Courier New"'> <i><span
style='color:#666666'>7E, 2 lengths, checksum)</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span
style='mso-spacerun:yes'>  </span>XB_TXBuffer</span><span style='font-size:
10.0pt;font-family:"Courier New";color:red'>[</span><span style='font-size:
10.0pt;font-family:"Courier New";color:#A900A9'>3</span><span style='font-size:
10.0pt;font-family:"Courier New";color:red'>] =</span><span style='font-size:
10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0x01</span><span
style='color:red'>;</span><span style='mso-spacerun:yes'>     </span><i><span
style='color:#666666'>// api_ID: Always 0x01 to send</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span
style='mso-spacerun:yes'>  </span>XB_TXBuffer</span><span style='font-size:
10.0pt;font-family:"Courier New";color:red'>[</span><span style='font-size:
10.0pt;font-family:"Courier New";color:#A900A9'>4</span><span style='font-size:
10.0pt;font-family:"Courier New";color:red'>] =</span><span style='font-size:
10.0pt;font-family:"Courier New"'> <span style='color:black'>frame_id</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span
style='mso-spacerun:yes'>  </span>XB_TXBuffer</span><span style='font-size:
10.0pt;font-family:"Courier New";color:red'>[</span><span style='font-size:
10.0pt;font-family:"Courier New";color:#A900A9'>5</span><span style='font-size:
10.0pt;font-family:"Courier New";color:red'>] =</span><span style='font-size:
10.0pt;font-family:"Courier New"'> <span style='color:black'>dest_MSB</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span
style='mso-spacerun:yes'>  </span>XB_TXBuffer</span><span style='font-size:
10.0pt;font-family:"Courier New";color:red'>[</span><span style='font-size:
10.0pt;font-family:"Courier New";color:#A900A9'>6</span><span style='font-size:
10.0pt;font-family:"Courier New";color:red'>] =</span><span style='font-size:
10.0pt;font-family:"Courier New"'> <span style='color:black'>dest_LSB</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span
style='mso-spacerun:yes'>  </span>XB_TXBuffer</span><span style='font-size:
10.0pt;font-family:"Courier New";color:red'>[</span><span style='font-size:
10.0pt;font-family:"Courier New";color:#A900A9'>7</span><span style='font-size:
10.0pt;font-family:"Courier New";color:red'>] =</span><span style='font-size:
10.0pt;font-family:"Courier New"'> <span style='color:#A900A9'>0x00</span><span
style='color:red'>;</span><span style='mso-spacerun:yes'>     </span><i><span
style='color:#666666'>// options: Always 0x00</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><b><span style='color:blue'>for</span></b> <span
style='color:red'>(</span><span style='color:black'>i</span> <span
style='color:red'>=</span> <span style='color:#A900A9'>0</span><span
style='color:red'>;</span> <span style='color:black'>i</span><span
style='color:red'>&lt;</span><span style='color:black'>dataLen</span><span
style='color:red'>;</span> <span style='color:black'>i</span><span
style='color:red'>++) {</span> <i><span style='color:#666666'>// load up data</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span><span
style='mso-spacerun:yes'>   </span>tempptr</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:red'>= &amp;(</span><span
style='color:black'>XB_TXSWBuffers</span><span style='color:red'>[</span><span
style='color:black'>bufferIndex</span><span style='color:red'>][</span><span
style='color:#A900A9'>3</span><span style='color:red'>+</span><span
style='color:black'>i</span><span style='color:red'>]);</span> <i><span
style='color:#666666'>//must use a pointer here or compiler will screw up
assembly code!!!</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span><span
style='mso-spacerun:yes'>   </span>XB_TXBuffer</span><span style='font-size:
10.0pt;font-family:"Courier New";color:red'>[</span><span style='font-size:
10.0pt;font-family:"Courier New";color:black'>i</span><span style='font-size:
10.0pt;font-family:"Courier New";color:red'>+</span><span style='font-size:
10.0pt;font-family:"Courier New";color:#A900A9'>8</span><span style='font-size:
10.0pt;font-family:"Courier New";color:red'>] = *</span><span style='font-size:
10.0pt;font-family:"Courier New";color:black'>tempptr</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>;</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><span style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>checkSumByteNumber</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>XB_TXBuffer</span><span style='color:red'>[</span><span
style='color:#A900A9'>2</span><span style='color:red'>] +</span> <span
style='color:#A900A9'>4</span> <span style='color:red'>-</span> <span
style='color:#A900A9'>1</span><span style='color:red'>;</span> <i><span
style='color:#666666'>// (5 + data) + 4 - 1</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>checkSum</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>   </span><b><span style='color:blue'>for</span></b> <span
style='color:red'>(</span><span style='color:black'>i</span><span
style='color:red'>=</span><span style='color:#A900A9'>3</span><span
style='color:red'>;</span> <span style='color:black'>i</span><span
style='color:red'>&lt;</span><span style='color:black'>checkSumByteNumber</span><span
style='color:red'>;</span> <span style='color:black'>i</span><span
style='color:red'>++){</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>        </span><span
style='mso-spacerun:yes'> </span>checkSum</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:red'>+=</span> <span
style='color:black'>XB_TXBuffer</span><span style='color:red'>[</span><span
style='color:black'>i</span><span style='color:red'>];</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><span style='mso-spacerun:yes'>  </span><span
style='color:red'>}</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>checkSum</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0xFF</span> <span style='color:red'>-</span> <span
style='color:black'>checkSum</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>XB_TXBuffer</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>[</span><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>checkSumByteNumber</span><span
style='font-size:10.0pt;font-family:"Courier New";color:red'>] =</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>checkSum</span><span
style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>XB_TXBufferIndex</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>0</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>XB_TXBufferMsgLen</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>checkSumByteNumber</span><span style='color:red'>+</span><span
style='color:#A900A9'>1</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>XB_TXInProgress</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:black'>TRUE</span><span style='color:red'>;</span><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>   </span>TXIE</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:red'>=</span>
<span style='color:#A900A9'>1</span><span style='color:red'>;</span> <i><span
style='color:#666666'>// flag to kick off HW send of data</span></i><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
normal;mso-pagination:none;background:white;mso-layout-grid-align:none;
text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:red'>}</span><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

</div>

</body>

</html>
