<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="RFID_PIC_files/filelist.xml">
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="place"/>
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:PunctuationKerning/>
  <w:DrawingGridHorizontalSpacing>6 pt</w:DrawingGridHorizontalSpacing>
  <w:DrawingGridVerticalSpacing>6 pt</w:DrawingGridVerticalSpacing>
  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>
  <w:DisplayVerticalDrawingGridEvery>3</w:DisplayVerticalDrawingGridEvery>
  <w:UseMarginsForDrawingGridOrigin/>
  <w:ValidateAgainstSchemas>false</w:ValidateAgainstSchemas>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotUnderlineInvalidXML/>
  <w:DoNotShadeFormData/>
  <w:Compatibility>
   <w:SpaceForUL/>
   <w:BalanceSingleByteDoubleByteWidth/>
   <w:DoNotLeaveBackslashAlone/>
   <w:ULTrailSpace/>
   <w:DoNotExpandShiftReturn/>
   <w:FootnoteLayoutLikeWW8/>
   <w:ShapeLayoutLikeWW8/>
   <w:AlignTablesRowByRow/>
   <w:ForgetLastTabAlignment/>
   <w:AdjustLineHeightInTable/>
   <w:LayoutRawTableWidth/>
   <w:LayoutTableRowsApart/>
   <w:UseWord97LineBreakingRules/>
   <w:SelectEntireFieldWithStartOrEnd/>
   <w:UseWord2002TableStyleRules/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
  <w:LsdException Locked="true" Name="Normal"/>
  <w:LsdException Locked="true" Name="heading 1"/>
  <w:LsdException Locked="true" Name="heading 2"/>
  <w:LsdException Locked="true" Name="heading 3"/>
  <w:LsdException Locked="true" Name="heading 4"/>
  <w:LsdException Locked="true" Name="heading 5"/>
  <w:LsdException Locked="true" Name="heading 6"/>
  <w:LsdException Locked="true" Name="heading 7"/>
  <w:LsdException Locked="true" Name="heading 8"/>
  <w:LsdException Locked="true" Name="heading 9"/>
  <w:LsdException Locked="true" Name="toc 1"/>
  <w:LsdException Locked="true" Name="toc 2"/>
  <w:LsdException Locked="true" Name="toc 3"/>
  <w:LsdException Locked="true" Name="toc 4"/>
  <w:LsdException Locked="true" Name="toc 5"/>
  <w:LsdException Locked="true" Name="toc 6"/>
  <w:LsdException Locked="true" Name="toc 7"/>
  <w:LsdException Locked="true" Name="toc 8"/>
  <w:LsdException Locked="true" Name="toc 9"/>
  <w:LsdException Locked="true" Name="caption"/>
  <w:LsdException Locked="true" Name="Title"/>
  <w:LsdException Locked="true" Name="Subtitle"/>
  <w:LsdException Locked="true" Name="Strong"/>
  <w:LsdException Locked="true" Name="Emphasis"/>
  <w:LsdException Locked="true" Name="Table Grid"/>
 </w:LatentStyles>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
 /* Page Definitions */
 @page
	{mso-page-border-surround-header:no;
	mso-page-border-surround-footer:no;}
@page Section1
	{size:841.85pt 1190.55pt;
	margin:56.7pt 56.7pt 56.7pt 56.7pt;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]-->
</head>

<body lang=EN-US style='tab-interval:.5in;text-justify-trim:punctuation'>

<div class=Section1>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>list P=PIC16F690<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>#</span><b><span style='font-size:10.0pt;font-family:"Courier New";
color:#7F0055'>include</span></b><span style='font-size:10.0pt;font-family:
"Courier New"'> <span style='color:blue'>&quot;p16F690.inc&quot;</span><span
style='color:black'><o:p></o:p></span></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>__config</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>(_CP_OFF</span>
<span style='color:black'>&amp;</span> <span style='color:black'>_WDT_OFF</span>
<span style='color:black'>&amp;</span> <span style='color:black'>_PWRTE_ON</span>
<span style='color:black'>&amp;</span> <span style='color:black'>_HS_OSC</span>
<span style='color:black'>&amp;</span> <span style='color:black'>_MCLRE_OFF)</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#2F9956'>;CONSTANTS</span><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#2F9956'>; debugging</span><span style='font-size:10.0pt;font-family:
"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>PIN_LED</span><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>     </span><span style='mso-spacerun:yes'>    </span><span
style='mso-tab-count:2'>        </span><b><span style='color:#7F0055'>equ</span></b><span
style='mso-tab-count:1'>   </span><span style='color:black'>0x00</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>PIN_WL_LED</span><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><span style='mso-tab-count:2'>        </span><b><span
style='color:#7F0055'>equ</span></b><span style='mso-spacerun:yes'>   </span><span
style='color:black'>0x01</span> <span style='color:#2F9956'>; Port A Pin 1</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>PIN_WL_INPUT</span><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><span style='mso-tab-count:2'>        </span><b><span
style='color:#7F0055'>equ</span></b><span style='mso-spacerun:yes'>   </span><span
style='color:black'>0x05</span> <span style='color:#2F9956'>; Port C Pin 5</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#2F9956'>; comm flag names</span><span style='font-size:10.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>ASYNC_RFID_IN_PROG</span><span style='font-size:10.0pt;font-family:
"Courier New"'><span style='mso-tab-count:1'>      </span><b><span
style='color:#7F0055'>equ</span></b> <span style='mso-tab-count:1'>  </span><span
style='color:black'>0x00</span> <span style='color:#2F9956'>; a message from
RFID is in progress</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>ASYNC_SECUR_TXReady</span><span style='font-size:10.0pt;
font-family:"Courier New"'><span style='mso-tab-count:1'>     </span><b><span
style='color:#7F0055'>equ</span></b> <span style='mso-tab-count:1'>  </span><span
style='color:black'>0x01</span> <span style='color:#2F9956'>; message is ready
for TX to security</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>ASYNC_SECUR_IN_PROG</span><span style='font-size:10.0pt;
font-family:"Courier New"'><span style='mso-tab-count:1'>     </span><b><span
style='color:#7F0055'>equ</span></b> <span style='mso-tab-count:1'>  </span><span
style='color:black'>0x02</span> <span style='color:#2F9956'>; message from
security controller is in progress</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>SYNC_TXReady</span><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>            </span><b><span style='color:#7F0055'>equ</span></b>
<span style='mso-tab-count:1'>  </span><span style='color:black'>0x00</span> <span
style='color:#2F9956'>; bit 0 of SYNC status indicates if message is ready</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#2F9956'>; RFID comm constants</span><span style='font-size:10.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>RFID_MesLength</span><span style='font-size:10.0pt;font-family:
"Courier New"'><span style='mso-tab-count:2'>          </span><b><span
style='color:#7F0055'>equ</span></b><span style='mso-tab-count:1'>   </span><span
style='color:black'>.14</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>RFID_StartByte</span><span style='font-size:10.0pt;font-family:
"Courier New"'><span style='mso-tab-count:2'>          </span><b><span
style='color:#7F0055'>equ</span></b><span style='mso-tab-count:1'>   </span><span
style='color:black'>0x02</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>RFID_EndByte</span><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>            </span><b><span style='color:#7F0055'>equ</span></b><span
style='mso-tab-count:1'>   </span><span style='color:black'>0x03</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#2F9956'>; SYNC comm constants</span><span style='font-size:10.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>SYNC_NoDataNoWLByte</span><span style='font-size:10.0pt;
font-family:"Courier New"'><span style='mso-tab-count:1'>     </span><b><span
style='color:#7F0055'>equ</span></b><span style='mso-tab-count:1'>   </span><span
style='color:black'>0x02</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>SYNC_NoDataYesWLByte</span><span style='font-size:10.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>    </span><b><span
style='color:#7F0055'>equ</span></b><span style='mso-spacerun:yes'>   </span><span
style='color:black'>0x08</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>SYNC_DataReadyByte</span><span style='font-size:10.0pt;font-family:
"Courier New"'><span style='mso-spacerun:yes'>      </span><b><span
style='color:#7F0055'>equ</span></b><span style='mso-tab-count:1'>   </span><span
style='color:black'>0xAA</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#2F9956'>;Variables in RAM</span><span style='font-size:10.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>RX_RFID_INDEX</span><span style='font-size:10.0pt;font-family:
"Courier New"'> <span style='mso-tab-count:1'>    </span><b><span
style='color:#7F0055'>equ</span></b> <span style='mso-tab-count:1'>  </span><span
style='color:black'>0x20</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>ASYNC_STATUS</span><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>equ</span></b><span
style='mso-tab-count:1'>   </span><span style='color:black'>0x21</span><span
style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>; flags for
async comm</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>ASYNC_TIME</span><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>        </span><b><span style='color:#7F0055'>equ</span></b><span
style='mso-tab-count:1'>   </span><span style='color:black'>0x22</span><span
style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>; used to time
out bytes on ASYNC line</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>TX_SYNC_INDEX</span><span style='font-size:10.0pt;font-family:
"Courier New"'><span style='mso-tab-count:1'>     </span><b><span
style='color:#7F0055'>equ</span></b> <span style='mso-tab-count:1'>  </span><span
style='color:black'>0x23</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>RXBYTE_SYNC</span><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>       </span><b><span style='color:#7F0055'>equ</span></b>
<span style='mso-tab-count:1'>  </span><span style='color:black'>0x24</span><span
style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>; store
received byte from SPI</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>TEMP</span><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:3'>              </span><b><span style='color:#7F0055'>equ</span></b>
<span style='mso-tab-count:1'>  </span><span style='color:black'>0x25</span><span
style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>; used for
general storage</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>SYNC_STATUS</span><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>       </span><b><span style='color:#7F0055'>equ</span></b>
<span style='mso-tab-count:1'>  </span><span style='color:black'>0x26</span><span
style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>; flags for
sync comm</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>MY_CHECKSUM</span><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>       </span><b><span style='color:#7F0055'>equ</span></b><span
style='mso-tab-count:1'>   </span><span style='color:black'>0x27</span><span
style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>; used for
checksum calcs</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>TXBYTE_SYNC</span><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>       </span><b><span style='color:#7F0055'>equ</span></b><span
style='mso-tab-count:1'>   </span><span style='color:black'>0x28</span><span
style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>; used to send
data</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>TX_ASYNC_INDEX</span><span style='font-size:10.0pt;font-family:
"Courier New"'><span style='mso-tab-count:1'>    </span><b><span
style='color:#7F0055'>equ</span></b><span style='mso-tab-count:1'>   </span><span
style='color:black'>0x29</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>RX_SECUR_INDEX</span><span style='font-size:10.0pt;font-family:
"Courier New"'><span style='mso-tab-count:1'>    </span><b><span
style='color:#7F0055'>equ</span></b> <span style='mso-tab-count:1'>  </span><span
style='color:black'>0x2A</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>SYNC_NoDataInd</span><span style='font-size:10.0pt;font-family:
"Courier New"'><span style='mso-spacerun:yes'>    </span><b><span
style='color:#7F0055'>equ</span></b> <span style='mso-tab-count:1'>  </span><span
style='color:black'>0x2B</span><span style='mso-spacerun:yes'>    </span><span
style='color:#2F9956'>; indicator byte that no data is available (might be
water log or no)</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>TXDATA_SECUR</span><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>equ</span></b>
<span style='mso-tab-count:1'>  </span><span style='color:black'>0x50</span><span
style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>; store TXDATA
for security controller in 0x50-0x54</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>RFID_NUM</span><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>          </span><b><span style='color:#7F0055'>equ</span></b>
<span style='mso-tab-count:1'>  </span><span style='color:black'>0x51</span><span
style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>; store RFID
bytes in 0x51-0x53</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>RXDATA_SECUR</span><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>equ</span></b><span
style='mso-tab-count:1'>   </span><span style='color:black'>0x60</span><span
style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>; store RX data
from security controller in 0x60-0x66 (1 pad byte)</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>TXDATA_SYNC</span><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:2'>       </span><b><span style='color:#7F0055'>equ</span></b>
<span style='mso-tab-count:1'>  </span><span style='color:black'>0x67</span><span
style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>; store bytes
for Master PIC in 0x67-0x6C</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>RXDATA_RFID</span><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><span style='mso-tab-count:1'>   </span><b><span
style='color:#7F0055'>equ</span></b> <span style='mso-tab-count:1'>  </span><span
style='color:black'>0x71</span><span style='mso-spacerun:yes'>    </span><span
style='color:#2F9956'>; store received ASCII from RFID in 0x71-0x7F</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>org</span></b><span
style='mso-tab-count:1'>   </span><span style='color:black'>0</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>goto<span
style='mso-tab-count:1'>  </span><st1:place w:st="on">Main</st1:place></span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>org</span></b>
<span style='mso-tab-count:1'>  </span><span style='color:black'>5</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><st1:place w:st="on"><span style='font-size:10.0pt;
 font-family:"Courier New";color:black'>Main</span></st1:place><span
style='font-size:10.0pt;font-family:"Courier New";color:black'>:</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#2F9956'>; PIN CONFIG</span><span style='font-size:10.0pt;font-family:
"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#2F9956'>; turn off analog pins</span><span style='font-size:10.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel<span
style='mso-tab-count:1'>     </span>ANSEL<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>clrf<span
style='mso-tab-count:2'>        </span>ANSEL<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>clrf<span
style='mso-tab-count:2'>        </span>ANSELH</span><span style='font-size:
10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#2F9956'>; debug pins</span><span style='font-size:10.0pt;font-family:
"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel<span
style='mso-tab-count:1'>     </span>PORTA<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>bcf<span
style='mso-tab-count:2'>         </span>PORTA,</span><span style='font-size:
10.0pt;font-family:"Courier New"'> <span style='color:black'>PIN_LED<o:p></o:p></span></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel<span
style='mso-tab-count:1'>     </span>TRISA<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>bcf<span
style='mso-tab-count:2'>         </span>TRISA,</span><span style='font-size:
10.0pt;font-family:"Courier New"'> <span style='color:black'>PIN_LED</span><span
style='mso-spacerun:yes'>      </span><span style='color:#2F9956'>; bit7=0 sets
PIN_LED on port A to an output</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#2F9956'>; water log input/LED pins</span><span style='font-size:10.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>banksel <span style='mso-tab-count:1'>    </span>PORTA<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>bcf<span style='mso-spacerun:yes'>     </span><span
style='mso-tab-count:1'>    </span>PORTA,</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>PIN_WL_LED</span><span
style='mso-spacerun:yes'>   </span><span style='color:#2F9956'>; set LED to off
before enabling the output</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>banksel <span style='mso-tab-count:1'>    </span>TRISA<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>bcf<span style='mso-spacerun:yes'>     </span><span
style='mso-tab-count:1'>    </span>PORTA,</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>PIN_WL_LED</span><span
style='mso-spacerun:yes'>   </span><span style='color:#2F9956'>; sets WL LED as
an output</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>banksel <span style='mso-tab-count:1'>    </span>TRISC</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><span style='mso-tab-count:1'>  </span><b><span
style='color:#7F0055'>bsf</span></b><span style='mso-spacerun:yes'>     </span><span
style='mso-tab-count:1'>    </span><span style='color:black'>PORTC,</span> <span
style='color:black'>PIN_WL_INPUT</span> <span style='color:#2F9956'>; sets WL
input as an input</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#2F9956'>; Setut SCI I/O,</span><span style='font-size:10.0pt;font-family:
"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel <span
style='mso-tab-count:1'>    </span>TRISB<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>bcf<span
style='mso-tab-count:2'>         </span>TRISC,</span><span style='font-size:
10.0pt;font-family:"Courier New"'> <span style='color:black'>7</span><span
style='mso-spacerun:yes'>    </span><span style='mso-tab-count:1'>      </span><span
style='color:#2F9956'>; bit7=0 sets TX as output</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>bsf</span></b><span
style='mso-tab-count:2'>         </span><span style='color:black'>TRISC,</span>
<span style='color:black'>5</span><span style='mso-spacerun:yes'>    </span><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>; bit5=1 sets
RX as input</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#2F9956'>; Config SCI</span><span style='font-size:10.0pt;font-family:
"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel<span
style='mso-tab-count:1'>     </span>SPBRG<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movlw</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
2'>       </span><span style='color:black'>.129<span style='mso-tab-count:2'>        </span><span
style='mso-tab-count:1'>      </span></span><span style='color:#2F9956'>; .129
w/ ext osc; .25 w/ intern oscillator</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-spacerun:yes'>   </span><span style='mso-tab-count:1'>    </span>SPBRG<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movlw</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>   </span><span style='mso-tab-count:1'>    </span><span
style='color:black'>0x24</span><span style='mso-spacerun:yes'>        </span><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>; TXEN enabled
= 0x24, disabled = 0x04</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>movwf<span style='mso-spacerun:yes'>   </span><span
style='mso-tab-count:1'>    </span>TXSTA<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>banksel<span style='mso-tab-count:1'>     </span>RCSTA</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>bsf</span></b><span
style='mso-tab-count:2'>         </span><span style='color:black'>RCSTA,</span>
<span style='color:black'>SPEN<o:p></o:p></span></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>bcf<span
style='mso-tab-count:2'>         </span>RCSTA,</span><span style='font-size:
10.0pt;font-family:"Courier New"'> <span style='color:black'>RX9</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>bsf</span></b><span
style='mso-tab-count:2'>         </span><span style='color:black'>RCSTA,</span>
<span style='color:black'>CREN</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#2F9956'>; Setup SPI I/O, SDI-input, SDO-output, SCK-input, SS-input set
for SLAVE comm</span><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel<span
style='mso-tab-count:1'>     </span>TRISC<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>bcf<span
style='mso-tab-count:2'>         </span>TRISC,</span><span style='font-size:
10.0pt;font-family:"Courier New"'> <span style='color:black'>7</span><span
style='mso-spacerun:yes'>    </span><span style='mso-tab-count:1'>      </span><span
style='color:#2F9956'>; bit7=0 sets SDO as output</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>bsf</span></b><span
style='mso-tab-count:2'>         </span><span style='color:black'>TRISC,</span>
<span style='color:black'>6</span><span style='mso-spacerun:yes'>    </span><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>; bit6=1 sets
SS<span style='mso-spacerun:yes'>  </span>as input</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>banksel <span style='mso-tab-count:1'>    </span>TRISB</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>bsf</span></b><span
style='mso-tab-count:2'>         </span><span style='color:black'>TRISB,</span>
<span style='color:black'>6</span><span style='mso-spacerun:yes'>    </span><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>; bit6=1 sets
SCK as input</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>bsf</span></b><span
style='mso-tab-count:2'>         </span><span style='color:black'>TRISB,</span>
<span style='color:black'>4</span><span style='mso-spacerun:yes'>    </span><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>; bit4=1 sets
SDI as input</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#2F9956'>; Config SPI (SLAVE Mode)</span><span style='font-size:10.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel <span
style='mso-tab-count:1'>    </span>TXDATA_SYNC<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movlw<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>SYNC_NoDataNoWLByte</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>     </span><span style='color:#2F9956'>; no data (no
WL) to transmit on sync line indicator byte</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>movwf<span style='mso-spacerun:yes'>   </span><span
style='mso-tab-count:1'>    </span>SYNC_NoDataInd</span><span style='font-size:
10.0pt;font-family:"Courier New"'><span style='mso-spacerun:yes'>         
</span><span style='color:#2F9956'>; temp buffer for TX data (can be WL or not
WL indicator)</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>TXBYTE_SYNC</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>             </span><span style='color:#2F9956'>;
intialize TXBYTE_SYNC with no byte indicator</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>SSPBUF<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>banksel <span style='mso-tab-count:1'>    </span>SSPSTAT<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>clrf<span style='mso-tab-count:1'>  </span><span style='mso-tab-count:
1'>      </span>SSPSTAT</span><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>         </span><span style='mso-tab-count:1'>  </span><span
style='color:#2F9956'>; see page 15-3 in PIC Mid-Range Reference Manual</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>bcf<span
style='mso-tab-count:2'>         </span>STATUS,</span><span style='font-size:
10.0pt;font-family:"Courier New"'> <span style='color:black'>RP0</span><span
style='mso-spacerun:yes'>     </span><span style='mso-tab-count:1'>  </span><span
style='color:#2F9956'>; Bank 0</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movlw</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>0x34</span><span
style='mso-tab-count:1'>  </span><span style='mso-spacerun:yes'>    </span><span
style='mso-tab-count:2'>        </span><span style='color:#2F9956'>; set up SPI
port, Slave mode, SS</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>SSPCON</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#2F9956'>; setup timer0</span><span style='font-size:10.0pt;font-family:
"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel <span
style='mso-tab-count:1'>    </span>OPTION_REG<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movlw<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>b</span><span
style='font-size:10.0pt;font-family:"Courier New";color:blue'>'00000111'</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>     </span><span style='mso-tab-count:2'>        </span><span
style='color:#2F9956'>;1:256 prescale; w/extrn osc 1 tick ~ 0.0512 [ms]</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>OPTION_REG<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>FXN_UPDATE_ASYNC_TIME</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>call</span></b><span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span><span
style='color:black'>FXN_UPDATE_ASYNC_TIME</span><span
style='mso-spacerun:yes'>   </span><span style='color:#2F9956'>; store current
time</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#2F9956'>; INITIALIZATIONS</span><span style='font-size:10.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#2F9956'>; set variables to zero</span><span style='font-size:10.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel <span
style='mso-tab-count:1'>    </span>TXDATA_SYNC<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>clrf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>TXDATA_SYNC<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>clrf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>RX_RFID_INDEX<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>clrf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>ASYNC_STATUS</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><span style='mso-tab-count:1'>  </span><span
style='color:#2F9956'>; set all async flags to zero</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>clrf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>SYNC_STATUS</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>     </span><span style='mso-tab-count:1'>  </span><span
style='color:#2F9956'>; set all async flags to zero</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>clrf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>RXDATA_RFID</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#2F9956'>;<span style='mso-tab-count:1'>     </span>movlw<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>SYNC_NoDataByte
<span style='mso-tab-count:1'>  </span>; no data to transmit on sync line
indicator byte</span><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#2F9956'>;<span style='mso-tab-count:1'>     </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>TXBYTE_SYNC
<span style='mso-tab-count:1'>      </span>; intialize TXBYTE_SYNC with no byte
indicator</span><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movlw</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>0x04</span><span
style='mso-tab-count:2'>        </span><span style='mso-spacerun:yes'>   
</span><span style='mso-tab-count:1'>  </span><span style='color:#2F9956'>;
start byte of mes to Security Controller</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>TXDATA_SECUR</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'>      </span><span style='color:#2F9956'>; write to TXDATA array for
Security Controller</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movlw</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>0x08</span><span
style='mso-tab-count:2'>        </span><span style='mso-spacerun:yes'>   
</span><span style='mso-tab-count:1'>  </span><span style='color:#2F9956'>; end
byte of mes to Security Controller</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>(TXDATA_SECUR+.4)</span><span
style='mso-tab-count:1'> </span><span style='color:#2F9956'>; write to TXDATA
array for Security Controller</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel<span
style='mso-tab-count:1'>     </span>SSPBUF<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>SSPBUF,</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>W</span>
<span style='mso-tab-count:1'>  </span><span
style='mso-spacerun:yes'>    </span><span style='mso-tab-count:1'>  </span><span
style='color:#2F9956'>; read arrived byte to clear SPI receive flag</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>TXBYTE_SYNC,</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>W<o:p></o:p></span></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>SSPBUF<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel<span
style='mso-tab-count:1'>     </span>RCREG<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-spacerun:yes'>    </span><span style='mso-tab-count:1'>    </span>RCREG,</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>W</span><span
style='mso-tab-count:1'>    </span><span style='mso-spacerun:yes'>    </span><span
style='mso-tab-count:1'>  </span><span style='color:#2F9956'>; read buffer to
clear SCI receive flag</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>LOOPSTART<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>LOOPSTART:</span><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>; check for
RFID message or security message on ASYNC</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>FXN_CHECK_ASYNC</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>call</span></b><span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span><span
style='color:black'>FXN_CHECK_ASYNC</span> <span style='mso-tab-count:1'>  </span><span
style='color:#2F9956'>; check AYSNC comm</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>; check on
SYNC subsystem</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>FXN_CHECK_SYNC</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>call</span></b><span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span><span
style='color:black'>FXN_CHECK_SYNC<o:p></o:p></span></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>pagesel <span style='mso-tab-count:1'>    </span>FXN_CHECK_WL</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>   </span><span style='mso-tab-count:1'>   </span><b><span
style='color:#7F0055'>call</span></b><span style='mso-spacerun:yes'>    </span><span
style='mso-tab-count:1'>    </span><span style='color:black'>FXN_CHECK_WL<o:p></o:p></span></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>LOOPSTART<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>goto<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>LOOPSTART<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>FXN_CHECK_WL:</span><span style='font-size:10.0pt;font-family:
"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>banksel <span style='mso-tab-count:1'>    </span>PORTC<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>pagesel <span style='mso-tab-count:1'>    </span>ACTIVATE_WL<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>btfsc<span style='mso-spacerun:yes'>   </span><span
style='mso-tab-count:1'>    </span>PORTC,</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>PIN_WL_INPUT</span> <span
style='color:#2F9956'>; check if WL sensor is active</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>goto<span style='mso-spacerun:yes'>    </span><span
style='mso-tab-count:1'>    </span>ACTIVATE_WL</span><span style='font-size:
10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><span style='mso-tab-count:1'>  </span><span
style='color:#2F9956'>; WL not active</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>banksel <span style='mso-tab-count:1'>    </span>SYNC_NoDataNoWLByte</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#2F9956'>;
bank 0</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>movlw<span style='mso-spacerun:yes'>   </span><span
style='mso-tab-count:1'>    </span>SYNC_NoDataNoWLByte<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>movwf<span style='mso-spacerun:yes'>   </span><span
style='mso-tab-count:1'>    </span>SYNC_NoDataInd</span><span style='font-size:
10.0pt;font-family:"Courier New"'><span style='mso-spacerun:yes'>      </span><span
style='color:#2F9956'>; setup SPI to TX no WL indicator byte</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>bcf<span style='mso-spacerun:yes'>     </span><span
style='mso-tab-count:1'>    </span>PORTA,</span><span style='font-size:10.0pt;
font-family:"Courier New"'> <span style='color:black'>PIN_WL_LED</span><span
style='mso-spacerun:yes'>   </span><span style='color:#2F9956'>; turn off LED</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>return<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>ACTIVATE_WL:</span><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><span style='mso-tab-count:1'>  </span><span
style='color:#2F9956'>; WL is active</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>banksel <span style='mso-tab-count:1'>    </span>SYNC_NoDataYesWLByte</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='mso-tab-count:
1'>   </span><span style='color:#2F9956'>; bank 0</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>movlw<span style='mso-spacerun:yes'>   </span><span
style='mso-tab-count:1'>    </span>SYNC_NoDataYesWLByte<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>movwf<span style='mso-spacerun:yes'>   </span><span
style='mso-tab-count:1'>    </span>SYNC_NoDataInd</span><span style='font-size:
10.0pt;font-family:"Courier New"'><span style='mso-spacerun:yes'>      </span><span
style='mso-tab-count:1'>    </span><span style='color:#2F9956'>; setup SPI to
TX no WL indicator byte</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><span style='mso-tab-count:1'>  </span><b><span
style='color:#7F0055'>bsf</span></b><span style='mso-spacerun:yes'>     </span><span
style='mso-tab-count:1'>    </span><span style='color:black'>PORTA,</span> <span
style='color:black'>PIN_WL_LED</span><span style='mso-spacerun:yes'>   </span><span
style='mso-tab-count:1'>    </span><span style='color:#2F9956'>; turn on LED</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>    </span><span style='mso-tab-count:
1'>  </span>return<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>FXN_CHECK_ASYNC:</span><span style='font-size:10.0pt;font-family:
"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel<span
style='mso-tab-count:1'>     </span>ASYNC_STATUS</span><span style='font-size:
10.0pt;font-family:"Courier New"'><span style='mso-spacerun:yes'>       
</span><span style='color:#2F9956'>; bank 0</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>CHECK_SECURITY<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfsc<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>ASYNC_STATUS,</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>ASYNC_SECUR_IN_PROG<o:p></o:p></span></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>goto<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>CHECK_SECURITY<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>TX_SECURITY<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfsc<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>ASYNC_STATUS,</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>ASYNC_SECUR_TXReady<o:p></o:p></span></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>goto<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>TX_SECURITY<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>CHECK_RFID<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>goto<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>CHECK_RFID<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>CHECK_SECURITY:</span><span style='font-size:10.0pt;font-family:
"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>PROCESS_SECUR_BYTE<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel<span
style='mso-tab-count:1'>     </span>PIR1</span><span style='font-size:10.0pt;
font-family:"Courier New"'><span style='mso-tab-count:2'>        </span><span
style='color:#2F9956'>; bank 0</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfsc<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>PIR1,</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>RCIF</span><span
style='mso-tab-count:1'>  </span><span style='color:#2F9956'>; check if byte
has arrived</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>goto<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>PROCESS_SECUR_BYTE<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>FXN_CHECK_AYSNC_TIMEOUT</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>call</span></b>
<span style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span><span
style='color:black'>FXN_CHECK_AYSNC_TIMEOUT</span> <span style='color:#2F9956'>;
no byte, check if comm is timed out</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>addlw</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>0x00</span><span
style='mso-spacerun:yes'>                    </span><span style='color:#2F9956'>;
retlw does not set status, so add 0 to set status</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel<span
style='mso-tab-count:1'>     </span>ASYNC_STATUS<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfss<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>STATUS,Z</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>                </span><span style='color:#2F9956'>;
if z=1, timeout did NOT occur</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>bcf<span
style='mso-tab-count:2'>         </span>ASYNC_STATUS,</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>ASYNC_SECUR_IN_PROG</span>
<span style='color:#2F9956'>; async comm is back to idle</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>  </span>PROCESS_SECUR_BYTE:</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>; store
incoming byte</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>FXN_UPDATE_ASYNC_TIME</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>call</span></b>
<span style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span><span
style='color:black'>FXN_UPDATE_ASYNC_TIME</span><span
style='mso-spacerun:yes'>   </span><span style='color:#2F9956'>; update ASYNC
time for timing out comm with security controller</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel<span
style='mso-tab-count:1'>     </span>RX_SECUR_INDEX<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>RX_SECUR_INDEX,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><span style='mso-tab-count:1'>      </span><span
style='color:#2F9956'>; get index</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>FSR</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'>   </span><span style='mso-spacerun:yes'>                    </span><span
style='mso-tab-count:1'>    </span><span style='color:#2F9956'>; set index</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-spacerun:yes'>    </span><span style='mso-tab-count:1'>    </span>RCREG,</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>W</span>
<span style='mso-tab-count:1'>   </span><span
style='mso-spacerun:yes'>            </span><span style='mso-tab-count:1'>      </span><span
style='color:#2F9956'>; read incoming data byte; this clears RCIF</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>INDF</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='mso-tab-count:
2'>       </span><span style='mso-spacerun:yes'>            </span><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>; save into
RXDATA_SECUR array</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>incf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>RX_SECUR_INDEX</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>          </span><span style='mso-tab-count:1'>      </span><span
style='color:#2F9956'>; increment index into RXDATA_SECUR array</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>RX_SECUR_INDEX,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><span style='mso-tab-count:1'>      </span><span
style='color:#2F9956'>; read in new index</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>addlw</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>(.255-(6+RXDATA_SECUR-.1))</span>
<span style='mso-tab-count:1'>   </span><span style='color:#2F9956'>; check if
index is &gt; 6, if so, message has completely arrived</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfss<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>STATUS,C<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
4'>                        </span><span style='color:#2F9956'>; not all bytes
have arrived from security controller</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>; full message
has arrived! do complement checks on all 6 bytes</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>bcf<span
style='mso-tab-count:2'>         </span>ASYNC_STATUS,</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>ASYNC_SECUR_IN_PROG<o:p></o:p></span></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>RXDATA_SECUR,W<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>xorwf</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>(RXDATA_SECUR+.1),W</span><span
style='mso-spacerun:yes'>     </span><span style='color:#2F9956'>; this should
result in 0xFF</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>xorlw</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>0xFF</span><span
style='mso-tab-count:2'>        </span><span
style='mso-spacerun:yes'>            </span><span style='color:#2F9956'>;
should confirm that the first 2 bytes were complements</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfss<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>STATUS,Z<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
4'>                        </span><span style='mso-spacerun:yes'>      </span><span
style='color:#2F9956'>; comparison failed, not correct security message</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>RXDATA_SECUR+.2,W<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>xorwf</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>(RXDATA_SECUR+.3),W</span><span
style='mso-spacerun:yes'>     </span><span style='color:#2F9956'>; this should
result in 0xFF</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>xorlw</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>0xFF</span><span
style='mso-tab-count:2'>        </span><span
style='mso-spacerun:yes'>            </span><span style='color:#2F9956'>;
should confirm that the first 2 bytes were complements</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfss<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>STATUS,Z<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
4'>                        </span><span style='mso-spacerun:yes'>      </span><span
style='color:#2F9956'>; comparison failed, not correct security message</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>RXDATA_SECUR+.4,W<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>xorwf</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>(RXDATA_SECUR+.5),W</span><span
style='mso-spacerun:yes'>     </span><span style='color:#2F9956'>; this should
result in 0xFF</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>xorlw</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>0xFF</span><span
style='mso-tab-count:2'>        </span><span
style='mso-spacerun:yes'>            </span><span style='color:#2F9956'>;
should confirm that the first 2 bytes were complements</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfss<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>STATUS,Z<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
4'>                        </span><span style='mso-spacerun:yes'>      </span><span
style='color:#2F9956'>; comparison failed, not correct security message</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>; message
received passes complement test! move Security bytes and RFID bytes into
TXDATA_SYNC buffer</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>RXDATA_SECUR,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'>    </span><span style='mso-spacerun:yes'>    </span><span style='color:
#2F9956'>; byte 0 of security mes</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>TXDATA_SYNC+.3</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>RXDATA_SECUR+.2,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>;
byte 2 of security mes</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>TXDATA_SYNC+.4</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>RXDATA_SECUR+.4,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>;
byte 4 of security mes</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>TXDATA_SYNC+.5</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>RFID_NUM,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
3'>              </span><span style='mso-spacerun:yes'>    </span><span
style='color:#2F9956'>; byte 2 of RFID mes</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>TXDATA_SYNC<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>RFID_NUM+.1,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
2'>           </span><span style='mso-spacerun:yes'>    </span><span
style='color:#2F9956'>; byte 3 of RFID mes</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>TXDATA_SYNC+.1</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>RFID_NUM+.2,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
2'>           </span><span style='mso-spacerun:yes'>    </span><span
style='color:#2F9956'>; byte 4 of RFID mes</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>TXDATA_SYNC+.2</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>bsf</span></b><span
style='mso-tab-count:2'>         </span><span style='color:black'>SYNC_STATUS,SYNC_TXReady</span><span
style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>; set flag
-&gt; sync comm message ready to send</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movlw<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>TXDATA_SYNC</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>                 </span><span style='color:#2F9956'>;
read index into TX SYNC buffer</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>TX_SYNC_INDEX</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>               </span><span style='color:#2F9956'>;
reset index into TX SYNC buffer</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movlw<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>SYNC_DataReadyByte</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>          </span><span style='color:#2F9956'>; read
indicator byte for SYNC</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>TXBYTE_SYNC</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>                 </span><span style='color:#2F9956'>;
setup this indicator byte to be written on SYNC comm line next</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>TX_SECURITY:</span><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel<span
style='mso-tab-count:1'>     </span>PIR1</span><span style='font-size:10.0pt;
font-family:"Courier New"'><span style='mso-tab-count:2'>        </span><span
style='mso-spacerun:yes'>        </span><span style='color:#2F9956'>; bank 0</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfss<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>PIR1,</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>TXIF</span>
<span style='mso-tab-count:1'> </span><span
style='mso-spacerun:yes'>        </span><span style='color:#2F9956'>; Test TXIF
1=Transmit Buffer empty</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
4'>                        </span><span style='mso-spacerun:yes'>  </span><span
style='color:#2F9956'>; do nothing</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>TX_ASYNC_INDEX,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>; get index</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>FSR</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
3'>               </span><span style='mso-spacerun:yes'>  </span><span
style='color:#2F9956'>; set index</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>INDF,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'>      </span><span style='mso-spacerun:yes'>        </span><span
style='color:#2F9956'>; get byte to TX</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>TXREG</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
2'>       </span><span style='mso-spacerun:yes'>        </span><span
style='color:#2F9956'>; write out byte on ASYNC TX line</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>incf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>TX_ASYNC_INDEX</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><span style='color:#2F9956'>; increment
index</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>TX_ASYNC_INDEX,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>; read in new
index</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>addlw</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>(.255-(5+TXDATA_SECUR-.1))</span>
<span style='color:#2F9956'>; check if index is beyond TX array, aka all bytes
have been sent</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfss<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>STATUS,C<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>; done sending
message</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>bcf<span
style='mso-tab-count:2'>         </span>ASYNC_STATUS,</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>ASYNC_SECUR_TXReady</span>
<span style='color:#2F9956'>; set flag indicating that secure mes is no longer
waiting</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movlw<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>RXDATA_SECUR</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><span style='color:#2F9956'>; start of
RX array for Security Controller</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>RX_SECUR_INDEX</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><span style='color:#2F9956'>; set index
for data RX from security controller</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>bsf</span></b><span
style='mso-tab-count:2'>         </span><span style='color:black'>ASYNC_STATUS,</span>
<span style='color:black'>ASYNC_SECUR_IN_PROG</span> <span style='color:#2F9956'>;
set flag indicating that security message is due to arrive</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>;pagesel<span
style='mso-tab-count:1'>    </span>FXN_UPDATE_ASYNC_TIME</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>;call <span
style='mso-tab-count:1'>      </span>FXN_UPDATE_ASYNC_TIME ; update ASYNC time
for timing out comm with security controller</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>CHECK_RFID:</span><span style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>CHK_ASYNC_CONTINUE<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel<span
style='mso-tab-count:1'>     </span>ASYNC_STATUS</span><span style='font-size:
10.0pt;font-family:"Courier New"'><span style='mso-spacerun:yes'>    </span><span
style='color:#2F9956'>; bank 0</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfsc<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>ASYNC_STATUS,</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>ASYNC_RFID_IN_PROG</span>
<span style='color:#2F9956'>; check if idle, or currently reading byte stream</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>goto<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>CHK_ASYNC_CONTINUE<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>  </span>CHK_ASYNC_START:</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfss<span
style='mso-spacerun:yes'>   </span><span style='mso-tab-count:1'>    </span>PIR1,</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>RCIF</span><span
style='mso-spacerun:yes'>      </span><span style='color:#2F9956'>; Check if
data has arrived on SCI</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='mso-tab-count:
3'>                 </span><span style='mso-spacerun:yes'>    </span><span
style='color:#2F9956'>; do nothing</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movlw<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>RXDATA_RFID</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>     </span><span style='color:#2F9956'>; start of RX
array</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>RX_RFID_INDEX</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>   </span><span style='color:#2F9956'>; reset index
into RX array</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>bsf</span></b><span
style='mso-tab-count:2'>         </span><span style='color:black'>ASYNC_STATUS,</span>
<span style='color:black'>ASYNC_RFID_IN_PROG</span> <span style='color:#2F9956'>;
set flag - message in progress</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>FXN_STORE_RFID_BYTE</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>call</span></b>
<span style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span><span
style='color:black'>FXN_STORE_RFID_BYTE</span><span
style='mso-spacerun:yes'>     </span><span style='color:#2F9956'>; read byte
and store in RAM</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>  </span>CHK_ASYNC_CONTINUE:</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel <span
style='mso-tab-count:1'>    </span>PROCESS_ASYNC_BYTE<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel<span
style='mso-tab-count:1'>     </span>PIR1</span><span style='font-size:10.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>        </span><span
style='color:#2F9956'>; bank 0</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfsc<span
style='mso-spacerun:yes'>   </span><span style='mso-tab-count:1'>    </span>PIR1,</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>RCIF</span><span
style='mso-spacerun:yes'>  </span><span style='color:#2F9956'>; Check if data
has arrived on SCI</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>goto<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>PROCESS_ASYNC_BYTE<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>FXN_CHECK_AYSNC_TIMEOUT</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>call</span></b>
<span style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span><span
style='color:black'>FXN_CHECK_AYSNC_TIMEOUT</span> <span style='color:#2F9956'>;
no byte, check if comm is timed out</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>addlw</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>0x00</span><span
style='mso-spacerun:yes'>    </span><span style='mso-tab-count:3'>                </span><span
style='color:#2F9956'>; retlw does not set status, so add 0 to set status</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfss<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>STATUS,Z</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><span style='mso-tab-count:2'>            </span><span
style='color:#2F9956'>; if z=1, timeout did NOT occur</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>bcf<span
style='mso-tab-count:2'>         </span>ASYNC_STATUS,</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>ASYNC_RFID_IN_PROG</span>
<span style='color:#2F9956'>; async comm is back to idle</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>  </span>PROCESS_ASYNC_BYTE:</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>FXN_STORE_RFID_BYTE</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>call</span></b>
<span style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span><span
style='color:black'>FXN_STORE_RFID_BYTE</span><span
style='mso-spacerun:yes'>     </span><span style='color:#2F9956'>; read byte
and store in RAM</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel<span
style='mso-tab-count:1'>     </span>RX_RFID_INDEX</span><span style='font-size:
10.0pt;font-family:"Courier New"'><span style='mso-spacerun:yes'>     </span><span
style='color:#2F9956'>; bank 0</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>RX_RFID_INDEX,W<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>addlw</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>(.255-(RFID_MesLength+RXDATA_RFID-.1))</span>
<span style='color:#2F9956'>; check if array is RFID_MesLength long, aka full
message</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfss<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>STATUS,C<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>;RFID message
has arrived, now process it</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>bcf<span
style='mso-tab-count:2'>         </span>ASYNC_STATUS,</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>ASYNC_RFID_IN_PROG</span><span
style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>; set flag - no
longer reading message</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>FXN_PROCESS_RFID_MESSAGE</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>call</span></b><span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span><span
style='color:black'>FXN_PROCESS_RFID_MESSAGE</span><span
style='mso-spacerun:yes'>            </span><span style='color:#2F9956'>;
process RFID message</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>  </span>FXN_STORE_RFID_BYTE:</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel<span
style='mso-tab-count:1'>     </span>RCREG<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>RX_RFID_INDEX,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>     </span><span style='color:#2F9956'>; read in
array index</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>FSR</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'>   </span><span style='mso-tab-count:1'>      </span><span
style='mso-spacerun:yes'>        </span><span style='color:#2F9956'>; set index</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-spacerun:yes'>    </span><span style='mso-tab-count:1'>    </span>RCREG,</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>W</span>
<span style='mso-tab-count:1'>   </span><span
style='mso-spacerun:yes'>        </span><span style='color:#2F9956'>; read
incoming data byte; this clears RCIF</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>INDF</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='mso-tab-count:
2'>       </span><span style='mso-spacerun:yes'>        </span><span
style='color:#2F9956'>; save into RX array</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>incf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>RX_RFID_INDEX</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>       </span><span style='color:#2F9956'>; increment
index for next byte</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>FXN_UPDATE_ASYNC_TIME</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>call</span></b>
<span style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span><span
style='color:black'>FXN_UPDATE_ASYNC_TIME<o:p></o:p></span></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#2F9956'>;update ASYNC_TIME variable</span><span style='font-size:10.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>FXN_UPDATE_ASYNC_TIME:</span><span style='font-size:10.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel<span
style='mso-tab-count:1'>     </span>TMR0<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>TMR0,W<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>ASYNC_TIME</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'>  </span><span style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>;
save current time into RAM</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#2F9956'>; check for timeout on async byte stream</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>FXN_CHECK_AYSNC_TIMEOUT:</span><span style='font-size:10.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel<span
style='mso-tab-count:1'>     </span>ASYNC_TIME<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>ASYNC_TIME,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>;read last time</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>subwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>TMR0,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>          </span><span style='color:#2F9956'>;
(current_time - last_time)</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>addlw</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>.61</span><span
style='mso-spacerun:yes'>             </span><span style='color:#2F9956'>;255-195+1
; test if &gt; 195 ~ 10 [ms]</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfsc<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>STATUS,C</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>        </span><span style='color:#2F9956'>;check
overflow</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>retlw</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>.1</span><span
style='mso-spacerun:yes'>              </span><span style='color:#2F9956'>;
timeout async comm byte stream</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>retlw</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>.0</span><span
style='mso-spacerun:yes'>              </span><span style='color:#2F9956'>; no
need to timeout yet</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#2F9956'>; sync communication code</span><span style='font-size:10.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>FXN_CHECK_SYNC:</span><span style='font-size:10.0pt;font-family:
"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel<span
style='mso-tab-count:1'>     </span>SSPSTAT</span><span style='font-size:10.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>         </span><span
style='color:#2F9956'>; bank 1</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfss<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>SSPSTAT,</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>BF</span><span
style='mso-spacerun:yes'>     </span><span style='color:#2F9956'>; check if
data has arrived</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel<span
style='mso-tab-count:1'>     </span>SSPBUF</span><span style='font-size:10.0pt;
font-family:"Courier New"'><span style='mso-spacerun:yes'>          </span><span
style='mso-tab-count:1'>  </span><span style='color:#2F9956'>; bank 0</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>SSPBUF,</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>W</span>
<span style='mso-tab-count:1'>  </span><span
style='mso-spacerun:yes'>    </span><span style='mso-tab-count:1'>  </span><span
style='color:#2F9956'>; read arrived byte</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>RXBYTE_SYNC</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='mso-tab-count:
1'>      </span><span style='color:#2F9956'>; save into RAM</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>TXBYTE_SYNC,</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>W</span><span
style='mso-tab-count:1'>    </span><span style='color:#2F9956'>; load up data
to transmit</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>SSPBUF</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'>      </span><span style='mso-spacerun:yes'>      </span><span
style='color:#2F9956'>; new data to transmit for next time</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>;check if data
to write or nothing</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>LOAD_TX_SYNC_BYTE<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfsc<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>SYNC_STATUS,</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:black'>SYNC_TXReady</span>
<span style='color:#2F9956'>; check if SYNC data is ready to be written</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>goto<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>LOAD_TX_SYNC_BYTE<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>SYNC_NoDataInd,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>; no data to
transmit on sync line indicator byte</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>TXBYTE_SYNC</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>         </span><span style='color:#2F9956'>; set
TXBYTE_SYNC with no byte indicator</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>  </span>LOAD_TX_SYNC_BYTE:</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>TX_SYNC_INDEX,W<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>FSR</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
2'>         </span><span style='mso-spacerun:yes'>    </span><span
style='color:#2F9956'>; set index</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>INDF,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'>      </span><span style='mso-spacerun:yes'>    </span><span
style='color:#2F9956'>; get byte to TX</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>TXBYTE_SYNC</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>;
move from TX_SYNC buffer to be written next</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>incf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>TX_SYNC_INDEX</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>   </span><span style='color:#2F9956'>; increment
index into TX_SYNC buffer</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>;check if all
data has been written then</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>TX_SYNC_INDEX,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>         </span><span style='color:#2F9956'>; A</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>addlw</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>.255-(.6+TXDATA_SYNC)+1</span>
<span style='color:#2F9956'>; A&lt;(6+TXDATA_SYNC)?</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfss<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>STATUS,C<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>bcf<span
style='mso-tab-count:2'>         </span>SYNC_STATUS,SYNC_TXReady</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#2F9956'>;
clear flag -&gt; sync comm message no longer waiting</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:#2F9956'>; ASCII to HEX conversion code:</span><span style='font-size:
10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>FXN_PROCESS_RFID_MESSAGE:</span><span style='font-size:10.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel<span
style='mso-tab-count:1'>     </span>RXDATA_RFID</span><span style='font-size:
10.0pt;font-family:"Courier New"'><span style='mso-spacerun:yes'>     </span><span
style='color:#2F9956'>; bank 0</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movlw<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>RXDATA_RFID</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>     </span><span style='color:#2F9956'>; start of RX
array</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>FSR</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'>   </span><span style='mso-tab-count:1'>      </span><span
style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>; set index</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movlw<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>RFID_StartByte</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>  </span><span style='color:#2F9956'>; should be start
byte of message</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>xorwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>INDF,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'>      </span><span style='mso-spacerun:yes'>    </span><span
style='color:#2F9956'>; A == B?</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfss<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>STATUS,Z<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'>      </span><span style='mso-tab-count:2'>            </span><span
style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>; comparison
failed, not correct RFID message</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movlw<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>RXDATA_RFID</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>     </span><span style='color:#2F9956'>; start of RX
array</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>addlw</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>(RFID_MesLength</span>
<span style='color:black'>-</span> <span style='color:black'>.1)</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>FSR</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'>   </span><span style='mso-spacerun:yes'>   </span><span
style='mso-spacerun:yes'>       </span><span style='color:#2F9956'>; set index</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movlw<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>RFID_EndByte</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>; should be end
byte of message</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>xorwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>INDF,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'>      </span><span style='mso-spacerun:yes'>    </span><span
style='color:#2F9956'>; A == B?</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfss<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>STATUS,Z<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>                </span><span
style='mso-spacerun:yes'>      </span><span style='color:#2F9956'>; comparison
failed, not correct RFID message</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>; loop through
data ASCII chars and create bytes</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>clrf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>MY_CHECKSUM</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>     </span><span style='color:#2F9956'>; clear running
check sum to zero</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movlw<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>RXDATA_RFID</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>     </span><span style='color:#2F9956'>; read index
into RFID ASCII input array</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>addlw</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>.1</span><span
style='mso-tab-count:2'>          </span><span style='mso-spacerun:yes'>   
</span><span style='color:#2F9956'>; skip start byte</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>RX_RFID_INDEX</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>   </span><span style='color:#2F9956'>; reset index
into RFID data</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movlw<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>TXDATA_SYNC</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>     </span><span style='color:#2F9956'>; read index
into TX SYNC buffer</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>TX_SYNC_INDEX</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>   </span><span style='color:#2F9956'>; reset index
into TX SYNC data</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>RFID_PROCESSS_COMPLETE<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>  </span>RFID_ASCII_CONV_LOOP:</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>         </span><span
style='mso-spacerun:yes'>  </span><span style='color:#2F9956'>; start of for
loop</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>TX_SYNC_INDEX,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>     </span><span style='mso-tab-count:1'>    </span><span
style='mso-spacerun:yes'>    </span><span style='color:#2F9956'>; A</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>addlw</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>.255-(.6+TXDATA_SYNC)+1</span><span
style='mso-spacerun:yes'>     </span><span style='color:#2F9956'>;
A&lt;(6+TXDATA_SYNC)?</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>RFID_PROCESSS_COMPLETE<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfsc<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>STATUS,C<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>goto<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>RFID_PROCESSS_COMPLETE</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>      </span><span style='color:#2F9956'>; end for
loop</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>;start for
loop code</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>FXN_CONV_ASCII</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>call</span></b><span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span><span
style='color:black'>FXN_CONV_ASCII</span> <span style='color:#2F9956'>; will
convert ASCII at RX_RFID_INDEX into value in W</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>TEMP<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>swapf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>TEMP</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>            </span><span style='color:#2F9956'>; first
ASCII value is the most significant 4 bits</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>incf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>RX_RFID_INDEX</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>   </span><span style='color:#2F9956'>; increment
index for next ASCII char</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>FXN_CONV_ASCII</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>call</span></b><span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span><span
style='color:black'>FXN_CONV_ASCII</span><span style='mso-spacerun:yes'> 
</span><span style='color:#2F9956'>; will convert ASCII at RX_RFID_INDEX into
value in W</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>addwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>TEMP</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
2'>        </span><span style='mso-spacerun:yes'>    </span><span
style='color:#2F9956'>; add LSB to TEMP (TEMP is now the complete byte)</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>;store byte
into TXDATA_SYNC buffer</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>TX_SYNC_INDEX,W<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>FSR</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
3'>               </span><span style='color:#2F9956'>; set index</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>TEMP,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
2'>            </span><span style='color:#2F9956'>; get converted byte</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>INDF</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
2'>        </span><span style='mso-tab-count:1'>      </span><span
style='color:#2F9956'>; move into TX_SYNC buffer</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>;calc running
checksum</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>xorwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>MY_CHECKSUM,F</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>;increment
indexes</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>incf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>RX_RFID_INDEX</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>   </span><span style='color:#2F9956'>; increment
index for next ASCII char</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>incf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>TX_SYNC_INDEX</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>   </span><span style='color:#2F9956'>; increment
index for next ASCII char</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>RFID_ASCII_CONV_LOOP<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>goto <span
style='mso-tab-count:2'>       </span>RFID_ASCII_CONV_LOOP<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>  </span>RFID_PROCESSS_COMPLETE:</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>MY_CHECKSUM</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='color:#2F9956'>;
check if running check sum is zero (after being XOR with CHECKSUM BYTE from
message)</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfss<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>STATUS,Z<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
4'>                        </span><span style='color:#2F9956'>; failed
checksum, ignore by not setting flags</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>; passed
checksum, its a good RFID message!</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>; move 3 LSB
of RFID tag into RFID_NUM array from TXSYNC array (temporary storage array)</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'>  </span><span style='mso-tab-count:1'>      </span><span style='color:black'>(TXDATA_SYNC+.2),W</span><span
style='mso-spacerun:yes'>      </span><span style='color:#2F9956'>; 3rd byte of
5 byte RFID tag #</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>RFID_NUM<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'>  </span><span style='mso-tab-count:1'>      </span><span style='color:black'>(TXDATA_SYNC+.3),W</span><span
style='mso-spacerun:yes'>      </span><span style='color:#2F9956'>; 3rd byte of
5 byte RFID tag #</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>RFID_NUM+.1</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'>  </span><span style='mso-tab-count:1'>      </span><span style='color:black'>(TXDATA_SYNC+.4),W</span><span
style='mso-spacerun:yes'>      </span><span style='color:#2F9956'>; 3rd byte of
5 byte RFID tag #</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>RFID_NUM+.2</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>bsf</span></b><span
style='mso-tab-count:2'>         </span><span style='color:black'>ASYNC_STATUS,ASYNC_SECUR_TXReady</span>
<span style='color:#2F9956'>; set flag -&gt; sync comm message ready to send</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movlw<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>TXDATA_SECUR</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>                    </span><span
style='mso-spacerun:yes'> </span><span style='color:#2F9956'>; read index into
TX Security buffer</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>TX_ASYNC_INDEX</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-spacerun:yes'>                  </span><span
style='mso-spacerun:yes'> </span><span style='color:#2F9956'>; reset index into
TX SYNC buffer</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><span style='color:#2F9956'>; turn on LED</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>banksel<span
style='mso-tab-count:1'>     </span>PORTA</span><span style='font-size:10.0pt;
font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>bsf</span></b><span
style='mso-tab-count:2'>         </span><span style='color:black'>PORTA,</span>
<span style='color:black'>PIN_LED<o:p></o:p></span></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'>FXN_CONV_ASCII:</span><span style='font-size:10.0pt;font-family:
"Courier New"'> <span style='color:#2F9956'>; requires RX_RFID_INDEX to be set
to the right index into ASCII data</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>RX_RFID_INDEX,W<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movwf<span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span>FSR</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
3'>               </span><span style='color:#2F9956'>; set index</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>INDF,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
2'>            </span><span style='color:#2F9956'>; A</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>addlw</span><span
style='font-size:10.0pt;font-family:"Courier New"'> <span style='mso-tab-count:
1'>      </span><span style='color:black'>.255-0x40</span><span
style='mso-tab-count:1'>   </span><span style='mso-tab-count:1'>      </span><span
style='color:#2F9956'>; A &gt; 0x40</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>pagesel<span
style='mso-tab-count:1'>     </span>CONV_LETTER<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>btfsc <span
style='mso-tab-count:1'>      </span>STATUS,C<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>goto<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>CONV_LETTER<o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>  </span>CONV_NUMBER:</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>INDF,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
2'>            </span><span style='color:#2F9956'>; reload ASCII</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>addlw</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>.255-0x30+1</span><span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span><span
style='color:#2F9956'>; ASCII-0x30 = value (when ASCII is numeric)</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
4'>                        </span><span style='color:#2F9956'>; W contains byte</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-spacerun:yes'>  </span>CONV_LETTER:</span><span
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>movf<span
style='mso-tab-count:1'>  </span><span style='mso-tab-count:1'>      </span>INDF,W</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
2'>            </span><span style='color:#2F9956'>; reload ASCII</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>addlw</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
1'> </span><span style='mso-tab-count:1'>      </span><span style='color:black'>.255-0x37+1</span><span
style='mso-tab-count:1'> </span><span style='mso-tab-count:1'>      </span><span
style='color:#2F9956'>; ASCII-0x37 = value (when ASCII is A:E)</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New";
color:black'><span style='mso-tab-count:1'>      </span>return</span><span
style='font-size:10.0pt;font-family:"Courier New"'><span style='mso-tab-count:
4'>                        </span><span style='color:#2F9956'>; W contains byte</span><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><span
style='mso-tab-count:1'>      </span><b><span style='color:#7F0055'>end</span></b><o:p></o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='mso-pagination:none;background:white;mso-layout-grid-align:
none;text-autospace:none'><span style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

</div>

</body>

</html>
